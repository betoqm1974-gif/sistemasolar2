:root{
  --bg:#0b1020; --fg:#eef2ff; --muted:#b8c0ff;
  --card:#121a33; --focus:#f4b546;
  --max: 1100px;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  *{transition:none !important; animation:none !important}
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--fg);
  line-height:1.6;

  /* Fundo real (NASA) + camada escura para legibilidade */
  background-color: var(--bg);
  background-image:
    linear-gradient(180deg, rgba(11,16,32,.78), rgba(11,16,32,.92)),
    url("images/galaxia-nasa.webp");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}


/* Camada de estrelas (mais visível) */
a{color:var(--fg)}
a:focus, button:focus, input:focus, select:focus, textarea:focus{outline:3px solid var(--focus); outline-offset:3px}
.skip-link{
  position:absolute; left:-999px; top:0; padding:.7rem 1rem;
  background:var(--focus); color:#111; border-radius:.6rem; z-index:999;
}
.skip-link:focus{left:1rem; top:1rem}
.header{
  border-bottom:1px solid rgba(255,255,255,.12);
  background:linear-gradient(180deg, rgba(255,255,255,.08), transparent);
}
.wrap{max-width:var(--max); margin:0 auto; padding:var(--page-pad)}
.nav{
  display:flex; gap: 1.5rem; flex-wrap:wrap; align-items:center; justify-content:space-between;
}

.nav-right{display:flex; align-items:center; gap:.5rem}
.btn-voltar-lista{white-space:nowrap}

.nav nav{display:flex; gap:.4rem; flex-wrap:wrap; align-items:center}
.nav a{padding:.5rem .7rem; border-radius:.6rem; text-decoration:none}
.nav a[aria-current="page"]{background:rgba(255,255,255,.14)}
main{padding:1.2rem 0 2.5rem}
.grid{
  display:grid; gap:1rem;
  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
}
.card{
  background:var(--card); border:1px solid rgba(255,255,255,.12);
  border-radius:1rem; overflow:hidden;
}
.card img{width:100%; height:180px; object-fit:cover; display:block}
.card .pad{padding:1rem}
.badge{display:inline-block; padding:.2rem .55rem; border:1px solid rgba(255,255,255,.18); border-radius:999px; color:var(--muted); font-size:.85rem}
.controls{display:flex; gap:.8rem; flex-wrap:wrap; align-items:end}
label{display:block; font-weight:600}
input, select, textarea{
  width:100%; padding:.6rem .7rem; border-radius:.7rem;
  border:1px solid rgba(255,255,255,.18); background:#0f1730; color:var(--fg);
}
.figure{margin:0}
.figure img{width:100%; height:auto; display:block; border-radius:1rem; border:1px solid rgba(255,255,255,.12)}
.figure figcaption{color:var(--muted); font-size:.95rem; padding:.6rem 0}
.video{
  aspect-ratio:16/9; width:100%; border:0; border-radius:1rem;
}
details{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.14);
  border-radius:1rem; padding:.8rem 1rem;
}
summary{cursor:pointer; font-weight:700}
.footer{border-top:1px solid rgba(255,255,255,.12); color:var(--muted)}
hr{border:0; border-top:1px solid rgba(255,255,255,.12); margin:1.2rem 0}
.small{font-size:.95rem; color:var(--muted)}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.65rem .9rem; border-radius:.8rem; border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.10); color:var(--fg); text-decoration:none; cursor:pointer;
}
.btn:hover{background:rgba(255,255,255,.16)}
.kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.16); padding:.1rem .35rem; border-radius:.4rem;}


.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}
.imgpop{
  display:block;
  padding:0;
  border:0;
  background:transparent;
  width:100%;
  cursor: zoom-in;
}
.imgpop:focus{outline:3px solid var(--focus); outline-offset:3px}
.imgpop img{display:block; width:100%; height:auto}
.modal-backdrop{
  position:fixed; inset:0;
  background: rgba(0,0,0,.72);
  display:none;
  align-items:center;
  justify-content:center;
  padding: 16px;
  box-sizing: border-box;
  z-index: 1000;
}
.modal-backdrop[aria-hidden="false"]{ display:flex; }
.modal{
  margin: 0;

  max-width: min(520px, 92vw);
  width:100%;
  background: rgba(18,26,51,.96);
  border:1px solid rgba(255,255,255,.18);
  border-radius: 1.2rem;
  overflow:hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,.55);
}
.modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: .8rem;
  padding: .8rem 1rem;
  border-bottom:1px solid rgba(255,255,255,.12);
}
.modal-header h2{margin:0; font-size:1rem; color:var(--muted)}
.modal-body{padding: 1rem 1.1rem 1.2rem;}
.modal-body img{width:100%; height:auto; display:block; border-radius:1rem; border:1px solid rgba(255,255,255,.12)}
.modal-footer{padding: .6rem .9rem .9rem; color: var(--muted); font-size: .95rem}


.brand{
  display:flex; align-items:center; gap:.7rem;
  text-decoration:none;
  color:var(--fg);
}
.brand img{width:120px; height:120px; display:block}
.brand-text{font-weight:900; font-size:1.75rem; letter-spacing:.3px}
/* Fix: logotipo com iniciais maiúsculas (não forçar maiúsculas no texto da marca) */
.brand-text{ text-transform: none !important; }
a.brand{ text-transform: none !important; }


.modal-body img{max-height:65vh; object-fit:contain}

/* Tamanho do texto (3 níveis) */
html.fs-1{font-size:16px}
html.fs-2{font-size:18px}  /* ~125% */
html.fs-3{font-size:20px}  /* ~150% (AAA) */

.font-controls{display:flex; gap:.35rem; align-items:center; flex-wrap:wrap}
.font-controls .btn[aria-pressed="true"]{outline:3px solid var(--focus); outline-offset:2px}


/* Layout consistente */
:root{
  --page-max: 1100px;
  --page-pad: 1rem;
}

.container{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: var(--page-pad);
}

header .nav{
  max-width: var(--page-max);
  margin: 0 auto;
  
}

footer .footer-inner{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: var(--page-pad);
}

@media (max-width: 520px){
  :root{ --page-pad: 1rem; }
}


/* Forçar menu por baixo do logótipo, alinhado à esquerda */
header .nav{display:flex; flex-direction:column; align-items:flex-start}
header .nav .brand{order:1}
header .nav nav.main-nav{order:2}
header .nav .controls-row{order:3; align-items:center}

/* Miniaturas na galeria de fotos */
.gallery{display:grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1rem}
.thumb .thumb-btn img{
  width:100%;
  height:140px;
  object-fit:cover;
  border-radius:12px;
}
.thumb figcaption{margin-top:.4rem}


/* Contact form sem "tabela" */
.contact-form{display:grid; gap:.6rem; max-width: 720px}
.contact-form input, .contact-form textarea{
  width:100%;
  padding:.65rem .7rem;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(10,12,20,.55);
  color: inherit;
}
.form-actions{display:flex; gap:.6rem; flex-wrap:wrap; align-items:center; margin-top:.2rem}

/* Vídeos maiores + grelha */
.video-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1.2rem;
}
@media (max-width: 900px){
  .video-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px){
  .video-grid{ grid-template-columns: 1fr; }
}
.video-card{padding:1rem; border:1px solid rgba(255,255,255,.14); border-radius:16px; background: rgba(10,12,20,.35)}
.video-thumb{
  width:100%;
  aspect-ratio: 16 / 9;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
  position:relative;
  cursor:pointer;
}
.video-thumb .play{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size:3rem;
  opacity:.9;
}
.video-modal{width:100%}
.video-modal iframe{
  width: 100%;
  aspect-ratio: 16 / 9;
  border:0;
  border-radius:14px;
}

/* Controlos no canto superior direito */
header{position:relative}
.controls-row{
  position:absolute;
  top: .75rem;
  right: .9rem;
  justify-content:flex-end;
}
@media (max-width: 700px){
  .controls-row{position:static; justify-content:flex-start}
}

.video-thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:16px;
  display:block;
}
.video-desc{font-size:1.05rem; line-height:1.5}

/* Textos maiores */
#introText, .planet-desc, .planet-body p{font-size:1.12rem; line-height:1.65}

.spacer-lg{height:1.4rem}

#ttsStatus{max-width: 260px}

.controls-row{display:flex; gap:.6rem; align-items:center; flex-wrap:wrap}
.controls-row .sep{opacity:.7; padding:0 .2rem}


/* Rodapé numa linha */
.site-footer{
  border-top: 1px solid rgba(255,255,255,.12);
  margin-top: 1rem;
}
.footer-line{
  font-size: 0.92rem;
  line-height: 1.2;
  white-space: nowrap;
  
  text-overflow: ellipsis;
}
@media (max-width: 900px){
  .footer-line{font-size:0.85rem;}
}
@media (max-width: 650px){
  .footer-line{font-size:0.78rem;}
}

.site-footer{padding: var(--page-pad); max-width: var(--page-max); margin-left:auto; margin-right:auto}

/* Controlos no topo (canto superior direito) */
header{position:relative}
.controls-row{
  position:absolute;
  top: .6rem;
  right: .9rem;
  display:flex;
  align-items:center;
  gap:.6rem;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.controls-row .sep{opacity:.7; padding:0 .25rem}
@media (max-width: 800px){
  .controls-row{position:static; justify-content:flex-start}
}

/* Multimédia: cartões mais largos e com texto afastado das margens */
.wide-card{
  border: 1px solid rgba(255,255,255,.10);
  border-radius:16px;
  background: rgba(10,12,20,.35);
  overflow:hidden;
}
.card-pad{padding: 1rem 1.1rem;}
.section-gap{margin-top: 2rem;}

/* Fotos: 3 por linha (quando houver espaço) e formato horizontal */
.photo-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 1.2rem;
}
@media (max-width: 900px){
  .photo-grid{grid-template-columns: repeat(2, minmax(0, 1fr));}
}
@media (max-width: 600px){
  .photo-grid{grid-template-columns: 1fr;}
}
.photo-thumb{
  width:100%;
  aspect-ratio: 16 / 9;
  display:block;
  border:0;
  background: transparent;
  padding:0;
  cursor:pointer;
}
.photo-thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* Vídeos: manter grelha, mas aumentar largura e padding interno */

.video-card{padding:0;} /* padding passa a ser no card-pad */
.video-thumb{
  width:100%;
  aspect-ratio: 16 / 9;
  border:0;
  background: rgba(255,255,255,.06);
  position:relative;
  cursor:pointer;
}
.video-thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.video-thumb .play{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size:3rem;
  opacity:.9;
}

/* Página inicial: texto e blocos */
.lead{font-size:1.18rem; line-height:1.75}
.facts{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:1rem}
.fact{border:1px solid rgba(255,255,255,.25); border-radius:16px; background: rgba(10,12,20,.30); padding:1rem}

/* FIX160: Curiosidades rápidas — foco visível ao navegar com TAB */
.fact{transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;}
.fact:focus-visible{outline:none; filter: brightness(1.06); transform: translateY(-1px); box-shadow: 0 0 0 3px #FFB21D;}
@media (max-width: 900px){ .facts{grid-template-columns: 1fr} }

/* Home: imagem final */
.home-figure{margin-top:.6rem}
.home-figure img{border-radius:16px}

/* Modal: descrição com mais espaço (todas as popups) */
.modal{padding-bottom: .6rem}
#modalDesc{
  margin-top: .9rem;
  margin-bottom: 1.2rem;
  padding: 1rem 1.1rem;
  line-height: 1.6;
}
.modal-body{padding: 1rem 1.1rem 1.2rem;}

/* Fotos (PNG circulares) em formato retangular horizontal */
.photo-rect{background: rgba(255,255,255,.05);}
.photo-rect img{object-fit: contain; padding: .6rem; }

.backtop-row{display:flex; justify-content:flex-end}

/* Home: imagem sem corte (mostrar inteira) */
.intro-figure .photo-thumb{
  aspect-ratio: auto;
  padding: 0;
  background: transparent;
}
.intro-figure .photo-thumb img{
  width: 100%;
  height: auto;
  object-fit: contain;
  padding: .6rem;
  max-height: 420px;
}






.modal.modal-xl .modal-header{padding: 1rem 1.2rem;}
.modal.modal-xl #modalDesc{padding: 1rem 1.2rem;}
.modal.modal-xl .modal-body{
  max-height: 86vh;
  overflow:auto;
  padding: .6rem 1.2rem 1.2rem;
}
.modal.modal-xl .modal-media{
  width: 100%;
  max-width: none;
  height: auto;
  display:block;
}
.modal.modal-xl iframe.modal-media{
  width: 100%;
  aspect-ratio: 16/9;
  height: min(80vh, 1100px);
}

/* Botões "Ler" em coluna (à direita) */
.read-row{display:grid; grid-template-columns: 1fr auto; gap: .8rem; align-items:start;}
.read-btn{white-space:nowrap}
.read-li{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: .8rem;
  align-items:start;
}

/* read-btn sizing */
.read-btn{
  font-size: .92rem;
  padding: .35rem .7rem;
  min-width: 3.2rem;
  justify-self: end;
}
.read-row{display:grid; grid-template-columns: 1fr auto; gap: .8rem; align-items:start;}
.read-li{align-items: center;}

/* Ajustes: listas longas + botão Ler alinhado à direita */
.read-li{
  grid-template-columns: 1fr auto;
  align-items:start;
}
.read-li .read-btn{
  align-self:start;
  justify-self:end;
}
.read-row{display:grid; grid-template-columns: 1fr auto; gap: .8rem; align-items:start;}
.read-row .read-btn{
  align-self:start;
  justify-self:end;
}

ul{padding-left: 1.2rem;}
li{line-height:1.6;}

/* Menu: efeito hover para realçar */
.main-nav a{
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, border-color .12s ease;
  border-radius: 12px;
  padding: .35rem .55rem;
  border: 1px solid transparent;
}
.main-nav a:hover, .main-nav a:focus-visible{
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.18);
  transform: translateY(-1px);
  outline: none;
}

/* Botão Ler junto dos títulos */
.read-heading{
  display:flex;
  align-items:center;
  gap:.6rem;
}
.read-btn-heading{
  font-size: .88rem;
  padding: .3rem .65rem;
}


/* Listas com bullets visíveis + botão Ler à direita */
.read-li{list-style-position: outside;}
.read-li-inner{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: .8rem;
  align-items:start;
}
.read-li-inner .read-btn{justify-self:end; align-self:start;}

/* Modal XL: imagem sem "teto" de altura (amplia a sério) */
.modal.modal-xl img.modal-media{
  width: 100%;
  height: auto;
  max-height: none;
  object-fit: contain;
}

/* Modal XL: largura fixa (800px) */
.modal.modal-xl{
  width: min(1400px, 96vw);
  max-width: 1400px;
}

/* Ajustes de legibilidade (Home) */
main.container{
  font-size: 1.06rem;
  line-height: 1.75;
}
main.container p{margin: .55rem 0 1.05rem;}
main.container li{margin: .25rem 0 .65rem; line-height: 1.75;}

/* Alinhamento consistente dos botões Ler (coluna direita) */
.read-row, .read-li-inner{
  width: 100%;
}
.read-row{
  grid-template-columns: 1fr 4.2rem; /* coluna fixa para alinhar */
}
.read-li-inner{
  grid-template-columns: 1fr 4.2rem; /* igual aos parágrafos */
}
.read-btn{
  min-width: 4.2rem;
  justify-self: end;
}
.read-li{padding-left: 0; margin-left: 0;}

.modal.modal-xl .modal-body img{
  max-height: none;
}

/* Curiosidades (Home): botão Ler alinhado à direita */
.fact{position: relative;}
.fact-head{
  display:flex;
  justify-content:flex-end;
  margin-bottom: .4rem;
}
.fact-read{justify-self:end;}

/* Curiosidades: fundo com imagem (com overlay para legibilidade) */
.fact{
  position: relative;
  
}
.fact[data-bg]{
  background-image: var(--fact-bg);
  background-size: cover;
  background-position: center;
}
.fact[data-bg]::before{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.55));
  pointer-events:none;
}
.fact > *{ position: relative; }

/* Curiosidades: botão Ler alinhado com o texto à direita */
.fact-head{
  margin-bottom: .2rem;
}
.fact-read{
  margin-top: .1rem;
}

/* Itens com avanço (sem hífen) */
.indent-item{
  padding-left: .6rem;
}

/* Botões Ir para o topo (esq/dir) */
.back-to-top{
  position: fixed;
  bottom: 1rem;
  z-index: 20;
}
.back-to-top-right{ right: 1rem; }
.back-to-top-left{ left: 1rem; }
@media (max-width: 700px){
  .back-to-top{ bottom: .7rem; }
  .back-to-top-right{ right: .7rem; }
  .back-to-top-left{ left: .7rem; }
}

/* Bullets mais junto do texto + avanço maior nos dois itens */
main.container ul{
  padding-left: 1.15rem;
  margin-left: 0;
  list-style-position: outside;
}
main.container li{
  padding-left: 0;
}
.indent-item{
  padding-left: 1.2rem; /* avanço maior */
}

/* Garantir botões Ir para o topo fixos */
.back-to-top{ position: fixed; bottom: 1rem; z-index: 30; }
.back-to-top-right{ right: 1rem; }
.back-to-top-left{ left: 1rem; }

/* Títulos: mais espaço para o botão Ler */
.read-heading{ gap: 1rem; }

/* Ir para o topo: botões fixos no topo (esq/dir) */
.back-to-top{
  position: fixed;
  top: 1rem;
  bottom: auto !important;
  z-index: 40;
}
.back-to-top-right{ right: 1rem; }
.back-to-top-left{ left: 1rem; }
@media (max-width: 700px){
  .back-to-top{ top: .7rem; }
  .back-to-top-right{ right: .7rem; }
  .back-to-top-left{ left: .7rem; }
}

/* Override final: Ir para o topo fixo no final (bottom) como o original */
.back-to-top{
  position: fixed;
  bottom: 1rem !important;
  top: auto !important;
  z-index: 40;
}
.back-to-top-right{ right: 1rem; left: auto !important; }
.back-to-top-left{ left: 1rem; right: auto !important; }
@media (max-width: 700px){
  .back-to-top{ bottom: .7rem !important; }
  .back-to-top-right{ right: .7rem; }
  .back-to-top-left{ left: .7rem; }
}

/* Avanço extra para os dois parágrafos (Planetas rochosos / Gigantes) */
.indent-item{
  padding-left: 2.0rem !important;
  margin-left: .6rem;
}

/* Lista quadrada com avanço (bolinha também avança) */
/* Os dois itens com avanço extra em relação ao parágrafo anterior */
.square-list .indent-item{
  padding-left: .2rem !important; /* pequeno ajuste interno */
}

/* Ir para o topo: linha após o parágrafo (não fixo) */
.back-to-top-row{
  display:flex;
  justify-content: space-between;
  align-items:center;
  margin: 1rem 0 1.2rem;
  max-width: 920px;
}
.back-to-top-inline{
  min-width: 10.5rem;
}

/* Neutralização (segurança): se existir alguma regra antiga para .back-to-top */
.back-to-top{ position: static !important; }

/* Mais indentação para a lista quadrada (em relação ao parágrafo anterior) */
/* Linha de botões "Ir para o topo" (Home) */
.backtop-row{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 1rem;
  max-width: 920px;
}
.back-to-top-inline{
  min-width: 10.5rem;
}

/* FIX59: Botões "Ir para o topo" (Home) */
p.backtop-row{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 1rem;
  /* mais afastado do parágrafo anterior */
  margin-top: 1.8rem !important;
  margin-bottom: .8rem !important;
  /* alinhar com a mesma largura/coluna das Curiosidades */
  width: min(1100px, 92vw) !important;
  max-width: 1100px !important;
}

/* Botões mais pequenos */
p.backtop-row .back-to-top-inline.btn{
  font-size: .88rem !important;
  padding: .28rem .6rem !important;
  min-width: 8.0rem !important;
  min-height: 34px !important;
}

/* Garantir alinhamento do botão direito com a grelha das curiosidades */
.facts{
  width: min(1100px, 92vw) !important;
  max-width: 1100px !important;
}

/* FIX60: mais espaço entre o parágrafo e os botões "Ir para o topo" */
p.backtop-row{
  margin-top: 2.3rem !important;
}

/* FIX60: Rodapé em barra a toda a largura, centrado em 3 linhas */
.site-footer{
  margin-top: 2rem;
  width: 100%;
  border-top: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.25);
}
.footer-inner{
  width: min(1100px, 92vw);
  margin: 0 auto;
  padding: 1rem 0;
  text-align: center;
  line-height: 1.5;
}

/* FIX61: rodapé com conteúdo a toda a largura (não alinhado ao container) */
.site-footer .footer-inner{
  width: 100% !important;
  max-width: none !important;
  padding: 1rem 1rem !important;
}

/* FIX62: rodapé (moldura + sombra) a 100% da largura do ecrã */
.site-footer{
  width: 100vw !important;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  box-shadow: 0 -10px 24px rgba(0,0,0,.35);
}

/* FIX62: sem espaço extra por baixo da última linha */
.site-footer .footer-inner{
  padding-top: 1rem !important;
  padding-bottom: .6rem !important;
}
.site-footer .footer-inner > div:last-child{
  margin-bottom: 0 !important;
  padding-bottom: 0 !important;
}

/* FIX63: layout para rodapé encostar ao fundo do ecrã quando a página é curta */
html, body{ height: 100%; }
body{
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
main{ flex: 1 0 auto; }
.site-footer{ flex-shrink: 0; margin-top: auto; }

/* FIX63: rodapé a toda a largura sem "descentrar" */
.site-footer{
  width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  left: auto !important;
  right: auto !important;
  box-shadow: 0 -10px 24px rgba(0,0,0,.35);
  border-top: 1px solid rgba(255,255,255,.18);
  border-bottom: 0 !important;
}

/* FIX63: conteúdo centrado, sem espaço/linha extra no fim */
.site-footer .footer-inner{
  width: 100% !important;
  max-width: none !important;
  padding: 1rem 1rem 0 !important; /* sem padding inferior */
  margin: 0 !important;
  text-align: center;
}
.site-footer .footer-inner > div{
  margin: 0 !important;
  padding: 0 !important;
}
.site-footer .footer-inner > div:last-child{
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* FIX64: garantir que nada "puxa" o rodapé para os lados */
body{ overflow-x: hidden; }
.site-footer{
  box-sizing: border-box !important;
  position: relative !important;
  left: 0 !important;
  right: 0 !important;
  transform: none !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}
.site-footer .footer-inner{
  box-sizing: border-box !important;
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 auto !important;
  padding: 1rem 1rem 0 !important;
}

/* FIX65: frase numa linha */
.nowrap{ white-space: nowrap; }

/* FIX65: rodapé com letra mais pequena */
.site-footer{ font-size: .92rem; }
@media (max-width: 600px){
  .site-footer{ font-size: .88rem; }
}

/* FIX66: rodapé ainda mais pequeno */
.site-footer{ font-size: .84rem !important; }
@media (max-width: 600px){
  .site-footer{ font-size: .80rem !important; }
}


/* FIX81B: espaço extra antes dos botões Ir para o topo */
.home-spacer{ height: 20px; }
.backtop-row{ margin-top: 12px; }


.modal .modal-content{
  max-width: min(70vw, 720px);
}
@media (max-width: 900px){
  
}


/* FIX88: tamanho/altura do painel da pop-up (estrutura usa .modal, não .modal-content) */
#modal[aria-hidden="false"]{ display:block; }
.modal{
  width: min(70vw, 720px);
  max-width: min(70vw, 720px);
  max-height: 88vh;
  overflow: auto;
  box-sizing: border-box;
}
.modal.modal-xl{
  width: min(80vw, 900px);     /* xl mas ainda dentro do ecrã */
  max-width: min(80vw, 900px);
}
@media (max-width: 900px){
  .modal, .modal.modal-xl{
    width: 92vw;
    max-width: 92vw;
    max-height: 92vh;
  }
}
/* garantir que os botões ficam sempre visíveis */
.modal-header{
  position: sticky;
  top: 0;
  background: inherit;
  z-index: 2;
}
.modal-tools{
  flex-wrap: wrap;
  gap: 8px;
}
.modal-body{
  overflow: visible;
}
.modal-body .modal-media{
  max-width: 100%;
  height: auto;
}

/* FIX91: centrar pop-up na tela */
.modal-backdrop{
  display: none;
}
.modal-backdrop[aria-hidden="false"]{
  display: flex !important;
  align-items: center;
  justify-content: center;
}
.modal{
  margin: 0 auto !important;
}

/* FIX95: imagem responsiva na Home (telemóvel/tablet) */
.photo-thumb, .hero-media, figure.media{
  max-width: 100%;
}
.photo-thumb img, .hero-media img, figure.media img, .modal-body img, .modal-media{
  max-width: 100%;
  width: 100%;
  height: auto;
  display: block;
}
@media (max-width: 600px){
  .photo-thumb{ width: 100%; }
}

/* FIX96: Home — imagem do Sistema Solar sem corte em telemóvel */
.intro-figure .photo-thumb{
  height: auto !important;
}
.intro-figure .photo-thumb img{
  width: 100% !important;
  height: auto !important;
  max-height: 70vh;
  object-fit: contain !important;  /* evitar corte */
}
@media (max-width: 600px){
  .intro-figure .photo-thumb img{
    max-height: 50vh;
  }
}

/* FIX97: viewport e Home — imagem e cartão adaptáveis */
.intro-figure.wide-card{
  max-width: 760px;
  margin: 16px auto;
}
.intro-figure .photo-thumb{
  width: 100%;
  display: block;
}
.intro-figure .photo-thumb img{
  width: 100% !important;
  height: auto !important;
  object-fit: contain !important; /* não cortar */
  max-height: 70vh;
}
@media (max-width: 900px){
  .intro-figure.wide-card{ max-width: 100%; }
  .intro-figure .photo-thumb img{ max-height: 52vh; }
}

/* FIX98: texto fora da moldura da imagem (Home) */
.hint-outside{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin: 8px auto 0;
  max-width: 760px;
  text-align: center;
}
.hint-outside p{
  margin: 0;
}
@media (max-width: 900px){
  .hint-outside{ max-width: 100%; padding: 0 10px; }
}

/* FIX101: imagem da Home com a mesma largura do texto */
.intro-figure.wide-card{
  max-width: var(--page-max);
  margin-left: auto;
  margin-right: auto;
}
.intro-figure.wide-card .photo-thumb{
  width: 100%;
}

/* FIX113: melhorar deteção do Modo de Leitura (Firefox) sem alterar layout */
.reader-article{
  display: contents; /* mantém layout atual; Firefox Reader still sees <article> */
}


/* FIX114: skip link & foco (AAA) */
.skip-link{
  position:absolute;
  left:-999px;
  top:10px;
  z-index:10000;
  padding:10px 12px;
  border-radius:10px;
  background:#111;
  color:#fff;
  text-decoration:none;
  }
.skip-link:focus,
.skip-link:focus-visible{
  left:10px;
}

/* Foco muito visível para navegação por teclado */
:focus-visible{
  outline: none;
  }

/* Garantir que links/botões mantêm foco */
a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible{
  border-radius: 10px;
}

/* Melhorar estados hover/focus no menu, sem depender do JS */
nav a:hover, nav a:focus-visible, nav button:hover, nav button:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
}

/* Alvos clicáveis (toques) um pouco maiores */
button, .btn, nav a{
  min-height: 40px;
}

/* Leitura/Reader: não alterar layout com display: contents (já existente), mas garantir fallback */
.reader-article{ display:block; }


/* FIX115: Reader View online — usar <article> real (sem display: contents) */
.reader-article{
  display: block;
}
.reader-article > *:first-child{
  margin-top: 0;
}

/* FIX116: Reader View — article real dentro do main */
.reader-article{
  display:block;
}
.reader-article > .container, .reader-article > .wrap{
  max-width: inherit;
}

/* FIX122: Mobile (Index) — evitar overflow no topo sem mexer no desktop */
@media (max-width: 720px){
  /* permitir quebra de linha em frases marcadas como nowrap (evita scroll lateral) */
  .nowrap{ white-space: normal !important; }

  /* a linha "Clique na imagem..." é um flex; permitir wrap */
  .hint-outside{
    flex-wrap: wrap;
    max-width: 100% !important;
    padding: 0 12px;
    box-sizing: border-box;
  }
  .hint-outside p{
    max-width: 100%;
    min-width: 0;
    text-align: center;
  }
}

/* FIX123: Planetas — 4 colunas, largura como a Home e ajustes de espaçamento */
.title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}
.title-row .read-btn{
  margin-left:auto;
}
.planet-controls{
  margin-bottom: 36px; /* linha de espaço entre filtros e lista */
}
.planets-grid{
  display:grid;
  gap: 16px;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}
@media (min-width: 1100px){
  .planets-grid{ grid-template-columns: repeat(4, 1fr); }
}
@media (max-width: 900px){
  .planets-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 520px){
  .planets-grid{ grid-template-columns: 1fr; }
}

/* FIX126: título Planetas com botão padrão à direita */
.title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}
.title-row button{
  margin-left:auto;
}

/* FIX129: alinhar 'A mostrar 8 planetas' com os campos */
.controls .status{
  margin-top: 12px;
  margin-bottom: 0;
  padding-left: 0;
}

/* FIX130: efeito hover no tipo de planeta (badge) */
.planet-type{
  cursor: pointer;
  transition: transform .08s ease, filter .08s ease;
}
.planet-type.is-hover,
.planet-type:hover,
.planet-type:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: none;
}

/* FIX132: Planetas — efeito visual ao passar no rato + foco por teclado */
.planet-thumb{
  display:block;
  border-radius: 14px;
  overflow:hidden;
  transition: transform .10s ease, filter .10s ease;
}
.planet-thumb.is-hover,
.planet-thumb:hover,
.planet-thumb:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: none;
  }

a.say.is-hover,
a.say:hover,
a.say:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
}

/* FIX134: Planetas — centrar 'Tipo' e 'Ver detalhes' e aplicar hover laranja/vermelho */
.card .pad .badge,
.card .pad .small{
  text-align:center;
}
.card .pad .small a.btn{
  display:inline-block;
}

/* efeito visual semelhante ao das fotos, mas em laranja/vermelho */
.card .pad .badge:hover,
.card .pad .badge:focus-visible,
a.say:hover,
a.say:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: 3px solid #ff6b2d;
  }

/* FIX136: efeitos hover/foco (Home + botões) */
.hero-image button.is-hover,
.hero-image button:hover,
.hero-image button:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: none;
  }

.fact{
  transition: transform .10s ease, filter .10s ease;
}
.fact.is-hover,
.fact:hover,
.fact:focus-within{
  filter: brightness(1.06);
  transform: translateY(-1px);
  outline: none;
  }

/* Botões (inclui Ler) com efeito laranja/vermelho */
.btn,
.read-btn,
.read-inline{
  transition: transform .10s ease, filter .10s ease;
}
.btn:hover,
.btn:focus-visible,
.read-btn:hover,
.read-btn:focus-visible,
.read-inline:hover,
.read-inline:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: 3px solid #ff6b2d;
  }

/* FIX137: Index imagem principal (photo-thumb) — efeito verde */
.photo-thumb{
  transition: transform .10s ease, filter .10s ease;
}
.photo-thumb.is-hover,
.photo-thumb:hover,
.photo-thumb:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  outline: none;
  }

/* Planetas: texto da curiosidade ao centro + limitar a 3 linhas */


/* Curiosidades rápidas (Home): texto ao centro */
.fact .fact-content,
.fact p{
  text-align:center;
}

/* FIX138: reforço do efeito verde na imagem principal (button.photo-thumb) */
button.photo-thumb{
  transition: transform .10s ease, filter .10s ease;
}
button.photo-thumb.is-hover,
button.photo-thumb:hover,
button.photo-thumb:focus-visible{
  filter: brightness(1.10);
  transform: translateY(-1px);
  outline: none;
  outline-offset: 4px;
}

/* FIX139: Curiosidades rápidas — 4 linhas de texto */
.fact .fact-content{
  
  
  
  
}

/* FIX140: Curiosidades rápidas — reservar sempre 4 linhas (uniforme) */
.fact .fact-content{
  line-height: 1.4;
  min-height: calc(4 * 1.4em);
  display:block;          /* sem clamp */
}

/* FIX140: efeito verde na imagem principal (sem outline para evitar corte por overflow) */
button.photo-thumb{
  transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
}
button.photo-thumb.is-hover,
button.photo-thumb:hover,
button.photo-thumb:focus-visible{
  filter: brightness(1.10);
  transform: translateY(-1px);
  box-shadow: 0 0 0 3px #FFB21D;
}
button.photo-thumb img{
  transition: transform .10s ease, filter .10s ease;
}
button.photo-thumb.is-hover img,
button.photo-thumb:hover img,
button.photo-thumb:focus-visible img{
  transform: scale(1.01);
}

/* FIX140: Planetas — texto ao centro e reservar 3 linhas (sem ... porque texto foi reduzido) */
.planets-grid .card p.no-read{
  text-align:center;
  line-height: 1.4;
  min-height: calc(3 * 1.4em);
}

/* FIX141: Curiosidades rápidas alinhadas à esquerda */
.fact .fact-content,
.fact p{
  text-align:left;
}

/* FIX142: botão Limpar nos filtros */
.planet-controls #clearFilters{
  width: 100%;
}

/* FIX146: Multimédia — efeito verde nas miniaturas (vídeos e fotos) */
.video-thumb, .photo-thumb{
  transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
}
.video-thumb.is-hover,
.video-thumb:hover,
.video-thumb:focus-visible,
.photo-thumb.is-hover,
.photo-thumb:hover,
.photo-thumb:focus-visible{
  filter: brightness(1.08);
  transform: translateY(-1px);
  box-shadow: 0 0 0 3px #FFB21D;
}

/* FIX149: Multimédia — Audiodescrição centrada (sem remover miniaturas/vídeos) */
.video-actions.center{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:12px;
  margin-top:10px;
}

/* FIX150: esconder espaços de botões removidos e manter layout */
.video-card .read-btn, .video-card .read-inline{ display:none; }

/* FIX151: títulos dos vídeos - evitar deformações */
.video-card h2, .video-card h3{
  line-height: 1.2;
  word-break: break-word;
}

/* FIX152: Menu principal — efeito visual amarelo no hover/foco */
nav a, .main-menu a, .menu a{
  transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
}
nav a:hover, nav a:focus-visible,
.main-menu a:hover, .main-menu a:focus-visible,
.menu a:hover, .menu a:focus-visible{
  transform: translateY(-1px);
  box-shadow: 0 0 0 3px #ffd84a; /* amarelo */
}

/* FIX153: Menu principal — amarelo (forçar sobre regras anteriores) */
.main-nav a:hover, .main-nav a:focus-visible{
  box-shadow: 0 0 0 3px #ffd84a !important;
}

/* FIX154: Vídeos — texto mais compacto (menos linhas desperdiçadas) */
.video-card .video-desc{
  margin-top: 10px;
  line-height: 1.35;
}
.video-card h2, .video-card h3{
  margin-bottom: 10px;
}

/* FIX155: Cabeçalho 'Vídeos' com botão Ler à direita */
.section-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

/* FIX156: header row seguro (não aplicar a sections inteiras) */
.section-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}

/* FIX158: Multimédia — harmonia estética nos cartões de vídeo */
.video-card{
  padding: 18px 18px 16px;
}
.video-card h2, .video-card h3{
  font-size: 1.55rem;
  margin: 0 0 12px 0;
}
.video-card .video-desc{
  margin: 0;
  line-height: 1.4;
  }
.video-actions.center{ margin-top: 14px; }



/* FIX162: 'Vídeos' — botão Ler junto ao título e lê título+instrução */
.videos-title-row{ justify-content:flex-start; gap:14px; }

/* FIX163: botão ícone (como no index) */
.icon-btn{
  padding: 6px 10px;
  min-width: 44px;
  text-align: center;
  line-height: 1;
}

/* FIX164: Vídeos — um único botão LER (como no index) */
.videos-title-row{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:14px;
  flex-wrap:wrap;
}


/* FIX170: Overlays de vídeo (play vermelho ao centro, estilo YouTube) */
.video-thumb{
  position: relative;
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  }
.video-thumb img{
  width:100%;
  height:auto;
  display:block;
}
.video-thumb[data-play-overlay="1"]::after{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  width:74px;
  height:52px;
  transform: translate(-50%,-50%);
  background: rgba(220, 0, 0, 0.92);
  border-radius: 14px;
  box-shadow: 0 10px 26px rgba(0,0,0,0.35);
}
.video-thumb[data-play-overlay="1"]::before{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-42%,-50%);
  width:0;height:0;
  border-left:18px solid #fff;
  border-top:12px solid transparent;
  border-bottom:12px solid transparent;
  z-index:1;
}
.video-thumb:hover{ filter: brightness(1.05); }
.video-thumb:focus-visible{
  outline: 3px solid rgba(0,255,180,0.75);
  }

/* Texto dos cartões: ocupar largura e ficar enquadrado */
.video-card .video-desc{
  max-width: none !important;
  width: 100%;
  margin: 6px 0 0;
  padding: 0;
  line-height: 1.5;
  text-align: left;
  word-break: normal;
}

/* FIX171: descrição do 2º vídeo e restantes - usar melhor a largura do cartão */
.video-card .video-desc{
  max-width: none !important;
  width: 100%;
  margin-right: 0;
  padding-right: 0;
}


/* FIX174: */
.video-card .video-lang{
  font-size: 1.05rem;
}
.video-card .video-desc{
  max-width: none !important;
  width: 100%;
  text-align: left;
  padding-right: 0;
  margin-right: 0;
  line-height: 1.5;
}

/* FIX176: '(Falado em Português)' - negrito e próximo do título */
.video-card .video-lang{
  margin: -10px 0 8px;
  font-size: 1.15rem;
  font-weight: 700;
  opacity: 0.95;
}

/* FIX178: Multimédia - descrição a ocupar a largura do cartão */
.video-card{
  box-sizing: border-box;
}
.video-card .video-desc,
.video-card .desc-table,
.video-card .desc-box{
  box-sizing: border-box;
  width: 100%;
  max-width: none !important;
  margin-left: 0;
  margin-right: 0;
}

/* FIX179: garantir que o resumo do vídeo ocupa a largura útil do cartão */
.video-card .video-desc{
  width: 100% !important;
  max-width: none !important;
  display: block;
}

/* FIX180: resumo do vídeo deve ocupar toda a largura do cartão */
.video-desc{
  width: 100% !important;
  max-width: none !important;
  display: block !important;
}
.video-card .video-desc{
  width: 100% !important;
  max-width: none !important;
}

/* FIX188: alinhar botões de Audiodescrição na mesma linha (cartões de vídeo) */
.video-card{
  display: flex;
  flex-direction: column;
}
.video-card .video-actions{
  margin-top: auto;           /* empurra ações para o fundo do cartão */
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 44px;           /* altura consistente */
}

/* FIX189: nas fotos, manter nome do astro visível por cima do efeito visual */
.photo-card, .media-card{
  position: relative;
}
.photo-card .caption, .photo-card .photo-caption, .photo-card .name,
.media-card .caption, .media-card .photo-caption, .media-card .name{
  position: relative;
  z-index: 3;
}
.photo-thumb::after, .media-thumb::after, .thumb::after{
  z-index: 1;
}
.photo-thumb img, .media-thumb img, .thumb img{
  position: relative;
  z-index: 2;
}

/* FIX190: nome do astro por cima da foto com bom contraste */
.photo-card, .media-card{
  position: relative;
}
.photo-thumb, .media-thumb, .thumb{
  position: relative;
  display: block;
}
.photo-thumb img, .media-thumb img, .thumb img{
  display: block;
  width: 100%;
  height: auto;
}

/* Se o nome estiver dentro do cartão em elementos comuns, coloca-o como overlay */
.photo-card .caption, .photo-card .photo-caption, .photo-card .name,
.media-card .caption, .media-card .photo-caption, .media-card .name{
  position: absolute !important;
  left: 10px;
  right: 10px;
  bottom: 10px;
  z-index: 5 !important;
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(0,0,0,0.55);   /* retângulo semi-transparente */
  color: #fff;
  font-weight: 700;
  letter-spacing: 0.2px;
  text-shadow: 0 2px 6px rgba(0,0,0,0.65);
  backdrop-filter: blur(2px);
}

/* Em ecrãs pequenos, ligeiramente mais compacto */
@media (max-width: 520px){
  .photo-card .caption, .photo-card .photo-caption, .photo-card .name,
  .media-card .caption, .media-card .photo-caption, .media-card .name{
    left: 8px; right: 8px; bottom: 8px;
    padding: 6px 9px;
    font-size: 0.98rem;
  }
}

/* FIX193: Fotos - ordem correta: foto (atrás) -> retângulo semi-transparente (meio) -> nome (à frente) */
.photo-card, .media-card{ position: relative; }
.photo-thumb, .media-thumb, .thumb{ position: relative; }
.photo-thumb img, .media-thumb img, .thumb img{
  position: relative;
  z-index: 1; /* foto atrás */
  display: block;
  width: 100%;
  height: auto;
}

/* legenda como overlay */
.photo-card figcaption.card-pad,
.media-card figcaption.card-pad{
  position: absolute !important;
  left: 10px;
  right: 10px;
  bottom: 10px;
  z-index: 3;              /* bloco do texto à frente */
  padding: 6px 10px;
  border-radius: 10px;
  background: transparent !important; /* o retângulo vai para ::before */
  color: #fff;
  font-weight: 700;
  text-shadow: 0 2px 6px rgba(0,0,0,0.65);
}

/* retângulo semi-transparente no meio */
.photo-card figcaption.card-pad::before,
.media-card figcaption.card-pad::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 10px;
  background: rgba(0,0,0,0.55);
  z-index: -1;             /* fica por trás do texto, mas o figcaption (z-index 3) está por cima da foto */
  backdrop-filter: blur(2px);
}

/* garantir que o texto (strong) fica sempre acima */
.photo-card figcaption.card-pad strong,
.media-card figcaption.card-pad strong{
  position: relative;
  z-index: 1;
}

/* esconder texto pequeno, se existir, para não poluir */
.photo-card figcaption.card-pad .small,
.media-card figcaption.card-pad .small{
  display: none !important;
}

/* overlay do efeito visual não deve tapar a legenda */
.photo-thumb::after, .media-thumb::after, .thumb::after{
  z-index: 2 !important; /* por cima da foto mas por baixo da legenda (3) */
}

@media (max-width: 520px){
  .photo-card figcaption.card-pad,
  .media-card figcaption.card-pad{
    left: 8px; right: 8px; bottom: 8px;
    padding: 6px 9px;
    font-size: 0.98rem;
  }
}

/* FIX194: Fotos - quadrados maiores em 3 colunas */
.photos-grid, .photo-grid, .media-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 18px;
}

/* garantir cartões mais "quadrados" */
.photo-thumb, .media-thumb, .thumb{
  aspect-ratio: 1 / 1;
  overflow: hidden;
  border-radius: 14px;
}
.photo-thumb img, .media-thumb img, .thumb img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* responsivo */
@media (max-width: 900px){
  .photos-grid, .photo-grid, .media-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 560px){
  .photos-grid, .photo-grid, .media-grid{ grid-template-columns: 1fr; }
}

/* FIX194: retângulo semi-transparente encostado em baixo e dos lados */
.photo-card figcaption.card-pad,
.media-card figcaption.card-pad{
  left: 0px !important;
  right: 0px !important;
  bottom: 0px !important;
  border-radius: 0 0 14px 14px; /* acompanha a miniatura */
  padding: 7px 12px !important;
}
.photo-card figcaption.card-pad::before,
.media-card figcaption.card-pad::before{
  border-radius: 0 0 14px 14px;
}

/* FIX199: alinhar título 'Fotos' com o botão LER à direita (como em Vídeos) */
.section-title-row.photos-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.section-title-row.photos-title-row h2,
.section-title-row.photos-title-row h3{
  margin:0;
}

/* FIX200: Fotos - título com botão LER à direita, igual ao layout de Vídeos */
.section-title-row.photos-title-row{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.section-title-row.photos-title-row h2,
.section-title-row.photos-title-row h3{ margin: 0; }

/* FIX201: ampliar ligeiramente a imagem de Neptuno dentro da miniatura */
img.zoom-neptuno{
  transform: scale(1.12);
  transform-origin: left;
}

/* FIX205: Fotos - botão Ler ao lado do título, ligeiro desvio à direita */
.section-title-row.photos-title-row{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:14px;
}
.section-title-row.photos-title-row .photos-read-inline{
  margin-left:6px;
}

/* FIX207: evitar botão automático no título "Fotos" (usa-se apenas o botão manual ao lado) */
.section-title-row.photos-title-row{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:14px;
}
.section-title-row.photos-title-row .photos-read-inline{ margin-left:6px; }

/* FIX209: mais espaço entre cartões de vídeos e secção Fotos */
section#fotos, section.fotos, section[data-section="fotos"]{ margin-top: 28px; }

/* FIX210: Centrar imagens nas grelhas de Fotos (horizontal e vertical) */
.photo-grid .photo-card,
.photo-grid .photo-thumb,
.photo-grid .photo-item,
.photos-grid .photo-card,
.photos-grid .photo-thumb,
.gallery-grid .photo-card {
  display:flex;
  align-items:center;
  justify-content:center;
}
.photo-grid img,
.photos-grid img,
.gallery-grid img,
.photo-thumb img,
.photo-card img {
  max-width:100%;
  max-height:100%;
  width:auto;
  height:auto;
  object-fit:contain;
  display:block;
}

/* FIX210: Mais espaço entre cartões de Vídeos e o título Fotos */
section#fotos, section[data-section="fotos"], section.fotos {
  margin-top: 44px; /* +1 linha aprox. */
}

/* FIX210: Resumos dos vídeos com melhor aproveitamento da largura */
.video-grid .card p,
.video-grid .video-card p,
.video-card .video-desc,
.video-card p {
  max-width: none;
  width: 100%;
}
.video-card .video-desc,
.video-card p {
  text-align: left;
}

/* FIX211: Espaço extra (≈1 parágrafo) entre secções Vídeos e Fotos */
.videos-fotos-spacer{
  height: 1.6em; /* ~1 linha de parágrafo */
  margin: 18px 0 10px 0;
}

/* FIX211: reforço do espaçamento antes de Fotos (fallback) */
section#fotos, section[data-section="fotos"], section.fotos { margin-top: 64px !important; }

/* FIX212: Hint abaixo dos títulos (Vídeos/Fotos) com estilo consistente */
.section-hint{
  color: rgba(255,255,255,0.92) !important;
  font-size: 1.05rem;
  line-height: 1.4;
  margin-top: 10px;
  margin-bottom: 18px;
}

/* FIX217: Acessibilidade - botões "Ler" alinhados à direita */
.page-acessibilidade .section-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}
.page-acessibilidade .section-title-row h2,
.page-acessibilidade .section-title-row h3{
  margin:0;
}

/* FIX218: Acessibilidade - alinhar TODOS os botões 'Ler' à direita */
.page-acessibilidade .section-title-row.title-row-right{
  display:flex !important;
  align-items:center;
  justify-content:space-between !important;
  gap:14px;
}
.page-acessibilidade .section-title-row.title-row-right > :last-child{
  margin-left:auto;
}

/* FIX225: Acessibilidade - botão Ler junto ao título "Contactos e melhorias" */
.page-acessibilidade .section-title-row.tight-read{
  gap: 6px !important;
}
.page-acessibilidade .section-title-row.tight-read > :last-child{
  margin-left: 8px !important; /* ligeiro afastamento, como nas outras secções */
}

/* FIX225: Mais espaço antes da secção Contactos e melhorias */
.page-acessibilidade section.spaced-top{
  margin-top: 28px;
}

/* FIX226: Acessibilidade - botões 'Ler' junto ao título (não encostados ao lado direito) */
.page-acessibilidade .section-title-row{
  justify-content:flex-start !important;
}
.page-acessibilidade .section-title-row > :last-child{
  margin-left: 10px !important; /* pequeno espaço após o título */
}

/* FIX227: Override final - botões 'Ler' ao lado do título (mesmo com .title-row-right) */
.page-acessibilidade .section-title-row.title-row-right{
  justify-content:flex-start !important;
}
.page-acessibilidade .section-title-row.title-row-right > :last-child{
  margin-left: 10px !important;
  margin-right: 0 !important;
}

.page-acessibilidade .section-title-row.row-contactos > :last-child{
  margin-left: 1cm !important;
}

.page-acessibilidade .section-title-row.row-contactos button.btn-contactos{
  margin-left: 1cm !important;
}

/* FIX231: Acessibilidade - afastamento do botão Ler em "Contactos e Melhorias" (igual aos restantes) */
.page-acessibilidade .section-title-row.row-contactos button.btn-contactos{
  margin-left: 12px !important;
}


/* FIX234: Compromisso - botão Ler ao lado do título com pequeno espaço */
.page-acessibilidade .section-title-row.row-compromisso{
  justify-content:flex-start !important;
}
.page-acessibilidade .section-title-row.row-compromisso > :last-child{
  margin-left: 12px !important;
}

/* FIX236: linha de última atualização no rodapé */
footer .footer-update{
  color: #fff;
  font-size: 0.85rem;
  line-height: 1.1;
  margin-top: 2px;
  padding-bottom: 0;
}

/* FIX237: centrar a linha de última atualização no rodapé */
footer .footer-update{
  text-align: center;
  width: 100%;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.page-acessibilidade ul


footer .footer-update{
  color: #ffd24a !important;
}


/* FIX247: bullets quadrados alinhados como no Index (sem botões nos bullets) */
.page-acessibilidade ul.square-list{
  list-style: none !important;
  padding-left: 2.2rem !important;
  margin: .4rem 0 1.1rem;
}
.page-acessibilidade ul.square-list li{
  display: flex;
  align-items: flex-start;   /* base no topo do texto */
  gap: 0.65rem;              /* distância quadrado-texto */
  margin: 0.45rem 0;
}
.page-acessibilidade ul.square-list li::before{
  content: "■";
  color: #fff;
  font-size: 0.50rem;        /* menor */
  line-height: 1;
  flex: 0 0 auto;
  margin-top: 0.38em;        /* alinha ao meio da 1ª linha */
}

/* FIX247: última atualização a amarelo */
footer .footer-update{
  color: #ffd24a !important;
}

/* FIX248: ícone Home no menu */
a.nav-home{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2.1rem;
}
.nav-icon{
  display: inline-flex;
  width: 1.15rem;
  height: 1.15rem;
}
.nav-icon svg{
  width: 100%;
  height: 100%;
  fill: currentColor;
}

/* FIX249: ícone Home (imagem) no menu */
a.nav-home{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2.2rem;
}
.nav-home-img{
  width: 1.35rem;
  height: 1.35rem;
  display: inline-block;
}

/* FIX251: ícone Home maior + menu principal com letra maior */
nav a{
  font-size: 1.15rem; /* +1 nível */
}
a.nav-home{
  min-width: 3.3rem;
}
.nav-home-img{  width: 2.4rem;  height: 2.4rem;
  display: inline-block;
}

/* FIX252: menu em maiúsculas */
nav a{
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* FIX253: garantir ícone Home visível (img + fallback background) */
a.nav-home{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 3.3rem;
  background-image: url("images/home-icon.svg");
  background-repeat:no-repeat;
  background-position:center;
  background-size: 2.4rem 2.4rem;
}
.nav-home-img{  width: 2.4rem;  height: 2.4rem;
  display:inline-block;
}
/* Se o browser bloquear imagens no CSS, o <img> continua a mostrar. */

/* fallback background swap */
a.nav-home {
  background-image: url("images/home-icon.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 2.4rem 2.4rem;
}
a.nav-home:hover,
a.nav-home:focus-visible {
  background-image: url("images/home-icon-hover.svg");
}



/* cores base */
.nav-home-svg .home-bg { fill: #FFB21D; }
.nav-home-svg .home-house { fill: #FFFFFF; }
.nav-home-svg .home-roof { stroke: #FFFFFF; }
.nav-home-svg .home-door { fill: #FFB21D; }
/* hover/focus: troca apenas cores (mesmo SVG) */
a.nav-home:hover .home-bg,
a.nav-home:focus-visible .home-bg { fill: #FFFFFF; }
a.nav-home:hover .home-house,
a.nav-home:focus-visible .home-house { fill: #FFB21D; }
a.nav-home:hover .home-roof,
a.nav-home:focus-visible .home-roof { stroke: #FFB21D; }
a.nav-home:hover .home-door,
a.nav-home:focus-visible .home-door { fill: #FFFFFF; }

/* FIX259: Home SVG (estilo "casa" em círculo) — só muda cores no hover/focus */
a.nav-home {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 3.3rem;
  padding: 0.1rem 0.2rem;
  background-image: none !important;
}
.nav-home-icon {
  width: 2.6rem;
  height: 2.6rem;
  display: inline-flex;
}
.nav-home-svg {
  width: 2.6rem;
  height: 2.6rem;
  display: block;
}
/* cores base */
.nav-home-svg .home-bg { fill: #FFB21D; }
.nav-home-svg .home-house { fill: #FFFFFF; }
.nav-home-svg .home-roof { stroke: #FFFFFF; }
.nav-home-svg .home-door { fill: #FFB21D; }
/* hover/focus: troca apenas cores (mesmo SVG) */
a.nav-home:hover .home-bg,
a.nav-home:focus-visible .home-bg { fill: #FFFFFF; }
a.nav-home:hover .home-house,
a.nav-home:focus-visible .home-house { fill: #FFB21D; }
a.nav-home:hover .home-roof,
a.nav-home:focus-visible .home-roof { stroke: #FFB21D; }
a.nav-home:hover .home-door,
a.nav-home:focus-visible .home-door { fill: #FFFFFF; }

/* FIX260: garantir ícone Home visível */
a.nav-home .sr-only {
  position:absolute !important;
  width:1px !important;
  height:1px !important;
  padding:0 !important;
  margin:-1px !important;
  overflow:hidden !important;
  clip:rect(0,0,0,0) !important;
  white-space:nowrap !important;
  border:0 !important;
}
a.nav-home {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  line-height:1;
  background:none !important;
}
.nav-home-icon {
  display:inline-flex;
  width:2.6rem;
  height:2.6rem;
}
.nav-home-svg {
  display:block;
  width:2.6rem;
  height:2.6rem;
}
.nav-home-svg .home-bg { fill: #FFB21D; }
.nav-home-svg .home-house { fill: #FFFFFF; }
.nav-home-svg .home-roof { stroke: #FFFFFF; stroke-width:6; }
.nav-home-svg .home-door { fill: #FFB21D; }
a.nav-home:hover .home-bg,
a.nav-home:focus-visible .home-bg { fill: #FFFFFF; }
a.nav-home:hover .home-house,
a.nav-home:focus-visible .home-house { fill: #FFB21D; }
a.nav-home:hover .home-roof,
a.nav-home:focus-visible .home-roof { stroke: #FFB21D; }
a.nav-home:hover .home-door,
a.nav-home:focus-visible .home-door { fill: #FFFFFF; }

/* FIX261: Home icon inline SVG visible + color swap only */
a.nav-home{display:inline-flex;align-items:center;justify-content:center;min-width:3.3rem;line-height:1;background:none!important}
.nav-home-icon{display:inline-flex;width:2.6rem;height:2.6rem}
.nav-home-svg{display:block;width:2.6rem;height:2.6rem}
.nav-home-svg .home-bg{fill:#FFB21D}
.nav-home-svg .home-house{fill:#FFFFFF}
.nav-home-svg .home-roof{stroke:#FFFFFF;stroke-width:6}
.nav-home-svg .home-door{fill:#FFB21D}
a.nav-home:hover .home-bg,a.nav-home:focus-visible .home-bg{fill:#FFFFFF}
a.nav-home:hover .home-house,a.nav-home:focus-visible .home-house{fill:#FFB21D}
a.nav-home:hover .home-roof,a.nav-home:focus-visible .home-roof{stroke:#FFB21D}
a.nav-home:hover .home-door,a.nav-home:focus-visible .home-door{fill:#FFFFFF}

/* FIX262: tooltip/balão no hover/focus (Home) */
a.has-tooltip{
  position: relative;
}
a.has-tooltip::after{
  content: attr(data-tooltip);
  position: absolute;
  left: 50%;
  top: -0.65rem;
  transform: translate(-50%, -100%);
  font-size: 0.85rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  padding: 0.3rem 0.5rem;
  border-radius: 0.6rem;
  background: rgba(0,0,0,0.78);
  color: #fff;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease, transform 120ms ease;
  z-index: 9999;
}
a.has-tooltip::before{
  content: "";
  position: absolute;
  left: 50%;
  top: -0.35rem;
  transform: translateX(-50%) rotate(45deg);
  width: 0.55rem;
  height: 0.55rem;
  background: rgba(0,0,0,0.78);
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease;
  z-index: 9998;
}
a.has-tooltip:hover::after,
a.has-tooltip:focus-visible::after{
  opacity: 1;
  transform: translate(-50%, -110%);
}
a.has-tooltip:hover::before,
a.has-tooltip:focus-visible::before{
  opacity: 1;
}
/* em ecrãs tácteis, não forçar tooltip */
@media (hover: none){
  a.has-tooltip::after,
  a.has-tooltip::before{
    display:none;
  }
}

/* FIX263: garantir dimensão do novo logo PNG */
.site-logo img, #siteLogo, .logo img, .brand img{
  max-height: 56px;
  width: auto;
}
@media (max-width: 520px){
  .site-logo img, #siteLogo, .logo img, .brand img{
    max-height: 46px;
  }
}

/* FIX264: mais espaço entre logo e menu */
header .site-logo,
header .brand,
header .logo{
  margin-bottom: 14px;
}
header nav{
  margin-top: 6px;
}
@media (max-width: 520px){
  header .site-logo,
  header .brand,
  header .logo{
    margin-bottom: 12px;
  }
  header nav{
    margin-top: 4px;
  }
}

/* FIX266: puxar logo mais para a esquerda */
header .site-logo,
header .brand,
header .logo{
  margin-left: -10px;
}
@media (max-width: 520px){
  header .site-logo,
  header .brand,
  header .logo{
    margin-left: -6px;
  }
}


/* FIX: bullets quadrados na Acessibilidade alinhados como no Index */
ul.square-list{
  list-style-type: square;
  list-style-position: outside;
  padding-left: 2.2rem;
  margin: .4rem 0 1.1rem;
}
ul.square-list li{
  margin: 0.45rem 0;
}
ul.square-list li::marker{
  color: #fff;
  font-size: 0.75em;
}

/* garantir que a página Acessibilidade não força bullets via flex/::before */
.page-acessibilidade ul.square-list{
  list-style-type: square !important;
  list-style-position: outside !important;
}
.page-acessibilidade ul.square-list li{
  display: list-item !important;
  align-items: initial !important;
  gap: initial !important;
}
.page-acessibilidade ul.square-list li::before{
  content: none !important;
}

/* FIX_BTN_FONT: botões com tamanho igual aos parágrafos */
button,
.btn,
a.button,
input[type="button"],
input[type="submit"],
input[type="reset"],
select,
input,
textarea{
  font-size: 1rem;
  line-height: 1.2;
}

/* FIX_BTN_STYLE_BLACK: todos os botões com fundo preto e letra branca a negrito */
button,
.btn,
a.button,
input[type="button"],
input[type="submit"],
input[type="reset"],
.read-btn,
.btn-ler,
.btn-audio,
.btn-audiodescricao,
.btn-close,
.btn-topo,
.nav a,
nav a,
header nav a{
  background: #000000 !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  border-color: #000000 !important;
}

/* estados hover/focus: ligeiro realce mantendo contraste */
button:hover,
.btn:hover,
a.button:hover,
input[type="button"]:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
.read-btn:hover,
.btn-ler:hover,
.btn-audio:hover,
.btn-audiodescricao:hover,
.btn-close:hover,
.btn-topo:hover,
.nav a:hover,
nav a:hover,
header nav a:hover{
  filter: brightness(1.12);
}

button:focus-visible,
.btn:focus-visible,
a.button:focus-visible,
input[type="button"]:focus-visible,
input[type="submit"]:focus-visible,
input[type="reset"]:focus-visible,
.nav a:focus-visible,
nav a:focus-visible,
header nav a:focus-visible{
  outline: 3px solid #ffffff;
  }

/* FIX_MENU_LOGO_TRANSPARENT: remover fundo preto do logo e do menu principal */
header .logo, header .brand, header .site-logo, .logo, .brand, .site-logo{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Menu principal (links) sem fundo preto */
header nav a, header .wrap.nav a, nav.wrap.nav a{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  color: #ffffff !important;
  font-weight: 700 !important;
  padding: 0.35rem 0.55rem; /* mantém área clicável */
  border-radius: 0.35rem;
}

/* Hover/focus no menu: mantém efeito, mas sem “caixa” preta */
header nav a:hover, header nav a:focus-visible,
header .wrap.nav a:hover, header .wrap.nav a:focus-visible,
nav.wrap.nav a:hover, nav.wrap.nav a:focus-visible{
  outline: 2px solid #ffffff;
  outline-offset: 2px;
  text-decoration: none;
}

/* FIX_BUTTON_BORDER_WHITE: restantes botões com contorno branco */
button,
.btn,
a.button,
input[type="button"],
input[type="submit"],
input[type="reset"],
.read-btn,
.btn-ler,
.btn-audio,
.btn-audiodescricao,
.btn-close,
.btn-topo{
  border: 1px solid rgba(255,255,255,.10) !important;
}

/* FIX_FONT_SIZE_GAP_AAA: mais espaço entre os botões A / AA / AAA */
.fontsize-controls,
.text-size-controls,
.a11y-font-controls{
  gap: 10px !important;
}

.fontsize-controls button,
.text-size-controls button,
.a11y-font-controls button,
#btnA, #btnAA, #btnAAA{
  margin-right: 10px !important;
}

/* Evitar margem extra no último */
.fontsize-controls button:last-child,
.text-size-controls button:last-child,
.a11y-font-controls button:last-child{
  margin-right: 0 !important;
}

/* FIX_FONT_GAP_V2: espaçamento entre A / AA / AAA */
.font-controls{
  display: inline-flex !important;
  align-items: center;
  gap: 10px !important;
}
.font-controls .btn{
  margin: 0 !important;
}


/* FIX_INDEX_IMAGE_BORDER_OFF: remover contorno branco do botão/miniatura da imagem principal no índice */
.intro-figure .photo-thumb{
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

/* FIX_FACT_TEXT_STRIP: faixa preta semi-transparente atrás do texto nas curiosidades rápidas */
.facts .fact h3,
.facts .fact p{
  background: rgba(0,0,0,.58);
  padding: 8px 10px;
  border-radius: 10px;
  display: inline-block;
  max-width: 100%;
}

/* garantir que o texto fica acima do overlay de fundo */
.facts .fact{
  position: relative;
}
.facts .fact h3,
.facts .fact p{
  position: relative;
  z-index: 1;
}

/* FIX_FONT_PLUS_MINUS: novos botões A- / A+ */
.font-controls{
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

/* FIX: logo sem retângulo ao passar o rato (mantém foco visível por teclado) */
.brand,
.brand:link,
.brand:visited{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  text-decoration: none !important;
}
.brand:hover,
.brand:active{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  transform: none !important;
  filter: none !important;
  text-decoration: none !important;
}
/* foco por teclado (acessibilidade) */
.brand:focus-visible{
  outline: 2px solid #f4b546 !important;
  outline-offset: 3px !important;
  border-radius: 3px !important;
}



.main-nav a:hover,
.main-nav a:focus,
.main-nav a:focus-visible{
  color: #f4b546 !important;
}
.main-nav a[aria-current="page"]{
  color: #f4b546 !important;
}
/* evitar movimentos no hover */
.main-nav a:hover,
.main-nav a:active{
  transform:none !important;
}




/* FIX: menu em cor da casa (cor do ícone home) ao passar o rato e na página ativa */
.main-nav a,
.main-nav a:link,
.main-nav a:visited{
  color: inherit;
}
.main-nav a:hover,
.main-nav a:focus,
.main-nav a:focus-visible{
  color: #FFB21D !important;
}
.main-nav a[aria-current="page"]{
  color: #FFB21D !important;
}
/* opcional: também realça durante o clique */
.main-nav a:active{
  color: #FFB21D !important;
}


/* FIX_AA_CORE: melhorias WCAG AA (foco, skip link, movimento reduzido, consistência) */
.skip-link{
  position:absolute;
  left:10px;
  top:10px;
  padding:.5rem .75rem;
  background:#000;
  color:#fff;
  font-weight:700;
  border: 1px solid rgba(255,255,255,.10);
  border-radius:6px;
  transform:translateY(-200%);
  z-index:9999;
}
.skip-link:focus,
.skip-link:focus-visible{
  transform:translateY(0);
  outline:2px solid #f4b546;
  }

/* foco visível consistente */
a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible, [tabindex]:focus-visible{
  outline: 2px solid #f4b546;
  }

/* evitar “saltos”/movimentos em hover */
a:hover, button:hover{
  transform:none !important;
}

/* preferências de menos movimento */
@media (prefers-reduced-motion: reduce){
  *{
    animation:none !important;
    transition:none !important;
    scroll-behavior:auto !important;
  }
}


/* Botões de tamanho do texto (A- / A+) */
button.font-minus { font-size: 1rem; }
button.font-plus { font-size: 1.25rem; }


/* Tooltip/balão abaixo (botões A- / A+) — mostra ícone (🔍− / 🔍+) */
button.has-tooltip-below{
  position: relative;
}
button.has-tooltip-below::after{
  content: attr(data-tooltip);
  position: absolute;
  left: 50%;
  top: calc(100% + 1.05rem);
  transform: translate(-50%, 0);
  font-size: 1.25rem;
  font-weight: 800;
  line-height: 1;
  padding: 0.42rem 0.7rem;
  border-radius: 0.6rem;
  background: #f4b546;
  color: #111;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease, transform 120ms ease;
  z-index: 9999;
}
button.has-tooltip-below::before{
  content: "";
  position: absolute;
  left: 50%;
  top: calc(100% + 0.75rem);
  transform: translateX(-50%) rotate(45deg);
  width: 0.55rem;
  height: 0.55rem;
  background: #f4b546;
  opacity: 0;
  pointer-events: none;
  transition: opacity 120ms ease;
  z-index: 9998;
}
button.has-tooltip-below:hover::after,
button.has-tooltip-below:focus-visible::after{
  opacity: 1;
  transform: translate(-50%, 0.25rem);
}
button.has-tooltip-below:hover::before,
button.has-tooltip-below:focus-visible::before{
  opacity: 1;
}
/* Em ecrãs tácteis, não forçar tooltip */
@media (hover: none){
  button.has-tooltip-below::after,
  button.has-tooltip-below::before{
    display:none;
  }
}

/* FIX-MENU: itens brancos; hover/focus laranja; ativo (aria-current) mantém laranja */
.nav nav{
  gap: 2.2rem;               /* mais espaçamento entre itens */
}

.nav nav a{
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 64px;
  padding: 0 1.15rem;
  border-radius: 0;
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing: .06em;
  color: #fff;
  background: transparent;
  transition: color 140ms ease;
}

/* Hover/focus: texto laranja */
.nav nav a:hover,
.nav nav a:focus-visible{
  color: #FFB21D;
  background: transparent;
}

/* Ativo: texto laranja permanente */
.nav nav a[aria-current="page"]{
  color: #FFB21D;
}

/* Sublinhado laranja no hover/focus e no ativo */
.nav nav a::after{
  content:"";
  position:absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 4px;
  background: #f4b546;
  /* animação esquerda→direita (mais perceptível) */
  clip-path: inset(0 100% 0 0);
  transition: clip-path 360ms ease;
}

.nav nav a:hover::after,
.nav nav a:focus-visible::after,
.nav nav a[aria-current="page"]::after{
  clip-path: inset(0 0 0 0);
}

/* Foco visível acessível */
.nav nav a:focus-visible{
  outline: 3px solid var(--focus);
  }


/* FIX-MENU-OVERRIDE: garantir cor laranja no hover e no item ativo */
.header .nav nav a,
.header nav a {
  color: #fff !important;
}

.header .nav nav a:hover,
.header .nav nav a:focus-visible,
.header nav a:hover,
.header nav a:focus-visible {
  color: #FFB21D !important;
}

.header .nav nav a[aria-current="page"],
.header nav a[aria-current="page"] {
  color: #FFB21D !important;
}


/* FIX-MENU-UNDERLINE: animação da esquerda para a direita */
.header .nav nav a::after,
.header nav a::after{
  transform-origin: left !important;
}


/* FIX-MENU-UNDERLINE-L2R: reforço (clip-path) */
.header .nav nav a::after{
  clip-path: inset(0 100% 0 0);
}
.header .nav nav a:hover::after,
.header .nav nav a:focus-visible::after,
.header .nav nav a[aria-current="page"]::after{
  clip-path: inset(0 0 0 0);
}


/* FIX-MENU-HOVER: remover retângulo arredondado no hover (mantém só o sublinhado) */
.header .nav nav a:hover,
.header .nav nav a:focus-visible,
.header nav a:hover,
.header nav a:focus-visible{
  background: transparent !important;
  box-shadow: none !important;
  border-color: transparent !important;
  border-radius: 0 !important;
}


/* FIX-MENU-HOVER2: eliminar qualquer caixa no hover (sem fundo/borda/sombra) */
.header nav a:hover,
.header .nav nav a:hover,
.header nav a:focus,
.header .nav nav a:focus{
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* manter foco acessível apenas em focus-visible (não no hover) */
.header nav a:focus-visible,
.header .nav nav a:focus-visible{
  outline: 3px solid var(--focus);
  }


/* FIX-LUPA-COR: cor do ícone 🔍− / 🔍+ */
button.has-tooltip-below::after{
  color: #f4b546 !important;
}


/* FIX-MENU-HOVER3: remover totalmente qualquer "retângulo" no hover dos links do menu */
nav a:hover{
  background: transparent !important;
  background-color: transparent !important;
  border: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  filter: none !important;
}


/* FIX-MENU-HOVER3B: neutralizar regras antigas (hover) */
nav a:hover, .main-nav a:focus-visible{
  background: transparent !important;
  border-color: transparent !important;
  box-shadow: none !important;
  transform: none !important;
}


/* FIX-LUPA-FUNDO: fundo do balão das lupas (🔍− / 🔍+) */
button.has-tooltip-below::after,
button.has-tooltip-below::before{
  background: #f4b546 !important;
}
/* Texto/ícone no balão */
button.has-tooltip-below::after{
  color: #fff !important;
}


/* FIX-LUPA-CORES: fundo f4b546 e símbolo preto */
button.has-tooltip-below::after,
button.has-tooltip-below::before{
  background: #f4b546 !important;
}
button.has-tooltip-below::after{
  color: #000 !important;
}



#fontControls button.has-tooltip-below::after{
  color: #000 !important; /* símbolo preto */
}


/* FIX-LUPA-FUNDO-COR: manter comportamento (só aparece no hover/focus) e corrigir cor */
#fontControls button.has-tooltip-below::after,
#fontControls button.has-tooltip-below::before{
  background-color: #f4b546 !important;
  background: #f4b546 !important;
}
#fontControls button.has-tooltip-below::after{
  color: #000 !important; /* símbolo preto */
}


/* FIX-MENU-BORDA-HOVER: remover a "moldura" branca no hover dos itens do menu */
.header nav a:hover,
.header .nav nav a:hover{
  border: 0 !important;
  border-color: transparent !important;
  outline: none !important;
  box-shadow: none !important;
  background: transparent !important;
  background-color: transparent !important;
}

/* Mantém foco acessível apenas em teclado */
.header nav a:focus-visible,
.header .nav nav a:focus-visible{
  outline: 3px solid var(--focus) !important;
  outline-offset: 3px !important;
  border: 0 !important;
  box-shadow: none !important;
}


/* FIX-MENU-GAP: aproximar os itens do menu */
.header .nav nav{
  gap: 1rem !important;
}


/* FIX-MENU-GAP2: itens ainda mais juntos */
.header .nav nav{
  gap: 0.55rem !important;
}


/* FIX-BRAND-COR: texto 'SISTEMA SOLAR' com a cor do globo */
.brand,
.brand .brand-text,
a.brand .brand-text{
  color: #FFB21D !important;
}




/* FIX-HOME-LINHA: Home igual aos restantes itens do menu */
.header a.nav-home{
  color: #fff !important;
}
.header a.nav-home::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  height:4px;
  background: #f4b546;
  clip-path: inset(0 100% 0 0);
  transition: clip-path 360ms ease;
}
.header a.nav-home:hover::after,
.header a.nav-home:focus-visible::after,
.header a.nav-home[aria-current="page"]::after{
  clip-path: inset(0 0 0 0);
}
.header a.nav-home:hover,
.header a.nav-home:focus-visible{
  color: #FFB21D !important;
}
.header a.nav-home[aria-current="page"]{
  color: #FFB21D !important;
}


/* FIX-TOOLTIPS-COR: todos os retângulos/balões de tooltip no hover com a cor #f4b546 */
[data-tooltip]::after,
[data-tooltip]::before,
a.has-tooltip::after,
a.has-tooltip::before,
button.has-tooltip-below::after,
button.has-tooltip-below::before{
  background: #f4b546 !important;
  background-color: #f4b546 !important;
}
/* Texto/ícones dentro do balão: preto para contraste */
[data-tooltip]::after,
a.has-tooltip::after,
button.has-tooltip-below::after{
  color: #000 !important;
}


/* FIX-MENU-COR: alterar cor do texto (hover/ativo) e da barra do menu para #f4b546 */
.header .nav nav a:hover,
.header .nav nav a:focus-visible,
.header .nav nav a[aria-current="page"],
.header a.nav-home:hover,
.header a.nav-home:focus-visible,
.header a.nav-home[aria-current="page"]{
  color: #f4b546 !important;
}

.header .nav nav a::after,
.header a.nav-home::after{
  background: #f4b546 !important;
  background-color: #f4b546 !important;
}


/* PLANETAS redesign: nome sobre a imagem (canto inferior esquerdo) e tipo (canto superior direito) */
.planet-thumb{
  position: relative;
  display: block;
}
.planet-name-overlay{
  position: absolute;
  left: .75rem;
  bottom: .75rem;
  padding: .35rem .6rem;
  border-radius: .6rem;
  background: rgba(0,0,0,.45);
  color: #fff;
  font-weight: 800;
  letter-spacing: .02em;
  text-transform: uppercase;
  font-size: 1.15rem;
  line-height: 1;
  pointer-events: none;
}
.planet-type-overlay{
  position: absolute;
  right: .75rem;
  top: .75rem;
  background: rgba(0,0,0,.85); /* fundo opaco para contraste */
  color: #fff;
  border: 2px solid rgba(255,255,255,.85);
}

/* PLANETAS: 2 colunas e cartões maiores */
.planets-grid{
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}
.planets-grid img{
  height: 260px;
}
@media (max-width: 520px){
  .planets-grid{
    grid-template-columns: 1fr;
  }
  .planets-grid img{
    height: 240px;
  }
}

/* PLANETAS: efeito visual de cor no hover/foco (não cortado por overflow) */
.planets-grid .planet-thumb{
  position: relative;
  display: block;
  border-radius: 14px;
  overflow: hidden;
}
.planets-grid .planet-thumb::before{
  content: "";
  position: absolute;
  inset: 0;
  background: #FFB21D;
  opacity: 0;
  mix-blend-mode: overlay;
  pointer-events: none;
  transition: opacity .25s ease;
}
.planets-grid .planet-thumb::after{
  content: "";
  position: absolute;
  inset: 0;
  border: 3px solid #FFB21D;
  opacity: 0;
  pointer-events: none;
  border-radius: inherit;
  transition: opacity .25s ease;
}
.planets-grid .planet-thumb:hover::before,
.planets-grid .planet-thumb:focus-visible::before,
.planets-grid .planet-thumb:focus-within::before{
  opacity: .22;
}
.planets-grid .planet-thumb:hover::after,
.planets-grid .planet-thumb:focus-visible::after,
.planets-grid .planet-thumb:focus-within::after{
  opacity: 1;
}
.planets-grid .planet-thumb:hover img,
.planets-grid .planet-thumb:focus-visible img,
.planets-grid .planet-thumb:focus-within img{
  filter: saturate(1.15) contrast(1.05);
}


/* HOME: Imagem do Sistema Solar (botão sem popup) — foco laranja como as Curiosidades rápidas */
.solar-image-trigger{
  display: block;
  width: 100%;
  border: 0;
  padding: 0;
  background: transparent;
  cursor: default; /* não abre nada */
  border-radius: 14px;
  position: relative;
  overflow: hidden;
}
.solar-image-trigger:focus{
  outline: none;
}
.solar-image-trigger::before{
  content: "";
  position: absolute;
  inset: 0;
  background: #FFB21D;
  opacity: 0;
  mix-blend-mode: overlay;
  pointer-events: none;
  transition: opacity .25s ease;
}
.solar-image-trigger::after{
  content: "";
  position: absolute;
  inset: 0;
  border: 3px solid #FFB21D;
  opacity: 0;
  pointer-events: none;
  border-radius: inherit;
  transition: opacity .25s ease;
}
.solar-image-trigger:hover::before,
.solar-image-trigger:focus-visible::before,
.solar-image-trigger:focus-within::before{
  opacity: .22;
}
.solar-image-trigger:hover::after,
.solar-image-trigger:focus-visible::after,
.solar-image-trigger:focus-within::after{
  opacity: 1;
}


/* HOME: mostrar a imagem do Sistema Solar completa (sem recorte) */
.solar-image-trigger img{
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* HOME: Curiosidades rápidas com o mesmo efeito de cor/borda dos Planetas */
.facts .fact{
  position: relative;
  overflow: hidden;
  border-radius: 14px;
}
.facts .fact::before{
  content: "";
  position: absolute;
  inset: 0;
  background: #FFB21D;
  opacity: 0;
  mix-blend-mode: overlay;
  pointer-events: none;
  transition: opacity .25s ease;
}
.facts .fact::after{
  content: "";
  position: absolute;
  inset: 0;
  border: 3px solid #FFB21D;
  opacity: 0;
  pointer-events: none;
  border-radius: inherit;
  transition: opacity .25s ease;
}
.facts .fact:hover::before,
.facts .fact:focus-within::before{
  opacity: .22;
}
.facts .fact:hover::after,
.facts .fact:focus-within::after{
  opacity: 1;
}

/* MULTIMÉDIA: efeito visual (igual ao Index/Planetas) na cor #FFB21D */
.video-card,
.photo-card,
.media-card{
  position: relative;
  overflow: hidden;
  border-radius: 14px;
}
.video-card::before,
.photo-card::before,
.media-card::before{
  content: "";
  position: absolute;
  inset: 0;
  background: #FFB21D;
  opacity: 0;
  mix-blend-mode: overlay;
  pointer-events: none;
  transition: opacity .25s ease;
}
.video-card::after,
.photo-card::after,
.media-card::after{
  content: "";
  position: absolute;
  inset: 0;
  border: 3px solid #FFB21D;
  opacity: 0;
  pointer-events: none;
  border-radius: inherit;
  transition: opacity .25s ease;
}
.video-card:hover::before,
.video-card:focus-within::before,
.photo-card:hover::before,
.photo-card:focus-within::before,
.media-card:hover::before,
.media-card:focus-within::before{
  opacity: .22;
}
.video-card:hover::after,
.video-card:focus-within::after,
.photo-card:hover::after,
.photo-card:focus-within::after,
.media-card:hover::after,
.media-card:focus-within::after{
  opacity: 1;
}
.video-card:hover img,
.photo-card:hover img,
.media-card:hover img,
.video-card:focus-within img,
.photo-card:focus-within img,
.media-card:focus-within img{
  filter: saturate(1.15) contrast(1.05);
}

/* MULTIMÉDIA (Fotos): remover retângulo semi-transparente e usar apenas "remango" (moldura) no nome */
.photo-card{
  position: relative;
}
/* remove o retângulo/overlay antigo por baixo do nome */
.photo-card figcaption.card-pad::before{
  display: none !important;
}
/* coloca o nome por cima da imagem (como nos Planetas) */
.photo-card figcaption.card-pad{
  position: absolute;
  left: 1.35rem;
  bottom: 1.35rem;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  z-index: 5;
}
.photo-card figcaption.card-pad strong{
  display: inline-block;
  padding: .55rem 1rem;
  border-radius: 999px;
  border: none;
  background: rgba(0,0,0,.62);
  color: #fff;
  font-weight: 800;
  letter-spacing: .02em;
  text-transform: uppercase;
  line-height: 1;
  }
/* se existir texto adicional no figcaption, esconde (ficamos só com o nome) */
.photo-card figcaption.card-pad p,
.photo-card figcaption.card-pad .small,
.photo-card figcaption.card-pad a.btn{
  display: none !important;
}

/* MULTIMÉDIA (Fotos): nome mais acima e mais à direita (pill) */
.multimedia .photo-card figcaption.card-pad,
.multimedia figure.photo-card figcaption.card-pad,
.multimedia .media-card figcaption.card-pad,
.multimedia figure.media-card figcaption.card-pad{
  left: 2.1rem !important;
  bottom: 2.1rem !important;
}

/* UI (global): linha branca fina nos botões (estado normal) */
:where(button, .btn, a.btn, input[type="button"], input[type="submit"], input[type="reset"]){
  border: 1px solid rgba(255,255,255,.85) !important;
}
/* evita mexer no botão Fechar do modal se ele for desenhado sem borda */
button.modal-close{
  border-color: rgba(255,255,255,.35) !important;
}


/* MERCÚRIO: página independente com moldura + conteúdo */
.planet-hero{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: 18px 0 10px;
}
.planet-title{
  margin: 0 0 26px;
  font-weight: 900;
  letter-spacing: .3px;
  text-transform: none;
  font-size: 1.75rem;
}

.planet-hero-head{
  display:flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  margin: 0 0 26px;
}
.planet-hero-head .planet-title{
  margin: 0;
}
@media (max-width: 520px){
  .planet-hero-head{
    flex-direction: column;
    align-items: flex-start;
  }
}
.planet-frame{
  margin: 0;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.planet-frame img{
  width: 100%;
  height: auto;
  display: block;
}
.planet-sections{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: 12px 0 28px;
}
.planet-sections h2{
  margin: 18px 0 8px;
  font-size: 1.2rem;
}
.planet-sections ul{
  margin: 0 0 6px 1.1rem;
}
.planet-sections li{
  margin: 6px 0;
  line-height: 1.5;
}

.planet-title{
  text-transform: none; /* só a primeira letra maiúscula */
  font-size: clamp(2rem, 4vw, 3rem);
}
.planet-sections ul{ list-style-type: square; }

/* MERCÚRIO: ajustes finais (título, bullets quadrados, imagem menor) */
.planet-title{
  font-size: 1.75rem !important; /* igual ao "Sistema Solar" do header */
  line-height: 1.1 !important;
  margin: 0 0 26px !important;
  text-transform: none !important;
}
z0px; /* ~30% menor do que 860px */
}
.planet-sections ul{
  list-style: square !important;
  list-style-position: outside !important;
  padding-left: 1.25rem !important;
  margin-left: 0 !important;
}
.planet-sections li{
  display: list-item !important;
}

/* MERCÚRIO: força a imagem ~10% menor e centrada */
.planet-frame{
  max-width: 685px !important;
  margin: 0 auto !important;
}
.planet-frame img{
  width: 100% !important;
  height: auto !important;
  display: block;
}


/* Mercúrio: imagem +5% */
.page-mercurio .planet-frame{ max-width: 683px !important; }


/* desativar voltar ao topo (removido) */
.back-to-top,.to-top,.btn-top,.scroll-top,#backToTop,#btnTop,#topBtn,#toTop{display:none !important;}

/* fix_07: remover efeito visual (hover/focus) da imagem do sistema solar na página inicial */
.photo-thumb:hover,
.photo-thumb:focus-visible,
button.photo-thumb:focus-visible{
  filter: none !important;
  transform: none !important;
  box-shadow: none !important;
  outline: none !important;
}

.photo-thumb:hover img,
.photo-thumb:focus-visible img,
button.photo-thumb:focus-visible img{
  transform: none !important;
}



/* HOME: permitir foco por teclado nas imagens do topo (logo/brand) */
.brand-link{
  text-decoration: none;
  color: inherit;
  border-radius: 14px;
  position: relative;
}
.brand-link:focus{ outline: none; }
.brand-link::after{
  content:"";
  position:absolute;
  inset:-4px;
  border:3px solid #FFB21D;
  border-radius: 16px;
  opacity:0;
  pointer-events:none;
  transition: opacity .2s ease;
}
.brand-link:focus::after,
.brand-link:focus-visible::after{
  opacity:1;
}

/* HOME: fallback de foco (para browsers sem :focus-visible) */
.solar-image-trigger:focus::before{ opacity: .22; }
.solar-image-trigger:focus::after{ opacity: 1; }


/* FIX: Contacto — Ditado à esquerda e Enviar à direita, alinhado com a caixa de mensagem */
.page-contacto .contact-form .form-actions.form-actions-row{
  width: 100%;
  justify-content: space-between;
  align-items: center;
  margin-top: .4rem;
}
.page-contacto .contact-form .dictation-row{
  display: flex;
  align-items: center;
  gap: .6rem;
}
.page-contacto .contact-form .form-actions.form-actions-row button[type="submit"]{
  margin-left: auto;
}


/* FIX: Acessibilidade — títulos e subtítulos alinhados à esquerda */
.page-acessibilidade main.container h1,
.page-acessibilidade main.container h2,
.page-acessibilidade main.container h3{
  text-align: left;
}


/* FIX: Acessibilidade — alinhar títulos/subtítulos à esquerda (forçar também nas linhas de título) */
.page-acessibilidade .section-title-row{
  justify-content: flex-start !important;
}
.page-acessibilidade .section-title-row h2,
.page-acessibilidade .section-title-row h3,
.page-acessibilidade main.container h1{
  width: 100%;
  text-align: left !important;
}


/* FIX: Contacto — campos mais largos */
.page-contacto .contact-form{
  max-width: 1100px;
}
.page-contacto .contact-form input,
.page-contacto .contact-form textarea{
  width: 100%;
  max-width: 100%;
}


/* FIX: Contacto — formulário e campos mais largos (full width) */
.page-contacto .contact-form{
  max-width: none !important;
  width: 100% !important;
}
.page-contacto .contact-form input,
.page-contacto .contact-form textarea{
  width: 100% !important;
}


/* FIX: Acessibilidade — alinhar títulos/subtítulos à esquerda (definitivo) */
.page-acessibilidade h1.align-left,
.page-acessibilidade h2.align-left,
.page-acessibilidade h3.align-left{
  text-align: left !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}


/* FIX: Contacto — formulário ainda mais largo */
.page-contacto .container{
  max-width: 1300px !important;
}
.page-contacto .contact-form{
  width: 100% !important;
  max-width: none !important;
}


/* FIX: Pop-ups — texto branco e um pouco maior */
.modal, .modal *{
  color: #ffffff;
}
.modal-body{
  font-size: 1.05rem;
  line-height: 1.55;
}
.modal-header h2{
  color:#ffffff;
}


/* FIX: Pop-ups — tipografia maior (título + descrição) */
.modal-header h2{
  font-size: 1.4rem !important;
  line-height: 1.25 !important;
}
.modal-body{
  font-size: 1.35rem !important;
  line-height: 1.7 !important;
}
.modal-body p,
.modal-body li{
  font-size: 1.35rem !important;
  line-height: 1.7 !important;
}


/* FIX: Multimédia — descrições das pop-ups ainda maiores */
.page-multimedia .modal-body{
  font-size: 1.55rem !important;
  line-height: 1.75 !important;
}
.page-multimedia .modal-body p,
.page-multimedia .modal-body li{
  font-size: 1.55rem !important;
  line-height: 1.75 !important;
}

/* Página: Mapa do Site */
.sitemap ul{ list-style: square; padding-left: 1.25rem; }
.sitemap ul ul{ list-style: square; margin-top: .4rem; }
.sitemap a{ text-decoration: underline; }


/* FIX: tamanho do texto do menu (Planetas | Multimédia | ...) */
nav.main-nav a{
  font-size: 0.95rem !important;
}

/* Alinhamento consistente do texto (exceto Contacto) */
body:not(.page-contacto) main#conteudo{
  text-align: left;
}
body:not(.page-contacto) main#conteudo p,
body:not(.page-contacto) main#conteudo li{
  text-align: left;
}



/* FIX_55: Mapa do Site — alinhar como Home/Multimédia/Acessibilidade */
.page-sitemap main.container{
  max-width: var(--page-max) !important;
  margin: 0 auto !important;
  padding: var(--page-pad) !important;
  text-align: left !important;
}
.page-sitemap main.container h1,
.page-sitemap main.container h2,
.page-sitemap main.container h3,
.page-sitemap main.container p,
.page-sitemap main.container li,
.page-sitemap main.container a{
  text-align: left !important;
}
.page-sitemap main.container section{
  max-width: none !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Mapa do Site: lista com o mesmo tamanho do menu, alinhada à esquerda e sem sublinhado */
body.page-sitemap main#conteudo{
  text-align: left;
}
body.page-sitemap .sitemap{
  padding-left: 0;     /* não empurrar para o centro */
  margin-left: 0;
  max-width: 100%;
}
body.page-sitemap .sitemap a{
  font-size: 0.95rem !important;
  text-decoration: none !important;
}
body.page-sitemap .sitemap a:hover,
body.page-sitemap .sitemap a:focus-visible{
  text-decoration: underline;
}

body.page-sitemap .sitemap a{
  font-size: 0.95rem !important;
  text-decoration: none !important;
}
body.page-sitemap .sitemap a:hover,
body.page-sitemap .sitemap a:focus-visible{
  text-decoration: underline;
}

/* Submenu (Planetas) no menu principal */
nav.main-nav .has-submenu{
  position: relative;
  display: inline-block;
  vertical-align: middle;      /* garante a mesma linha */
  padding: 0 !important;       /* não mexe na altura da linha do menu */
  margin: 0 !important;
}

/* “ponte” invisível entre PLANETAS e o submenu (sem subir o texto) */
nav.main-nav .has-submenu::after{
  content: "";
  position: absolute;
  left: 0;
  top: 100%;
  width: 100%;
  height: 10px;
}

/* PLANETAS fica igual aos outros (não sobe/não mexe) */
nav.main-nav .has-submenu > a,
nav.main-nav .has-submenu > a:hover,
nav.main-nav .has-submenu > a:focus-visible{
  transform: none !important;
  box-shadow: none !important;
}

/* Dropdown */
nav.main-nav .has-submenu .submenu{
  display:none;
  position:absolute;
  top: calc(100% + 4px);  /* encosta na ponte */
  left: 0;
  margin: 0 !important;
  padding: 4px 4px !important;
  list-style: none;
  background: rgba(0,0,0,0.88);
  border: 1px solid rgba(255,178,29,0.75);
  border-radius: 12px;
  min-width: 170px;
  z-index: 9999;
}
nav.main-nav .has-submenu:hover .submenu,
nav.main-nav .has-submenu:focus-within .submenu,
nav.main-nav .has-submenu.is-open .submenu{ display:block; }

nav.main-nav .has-submenu .submenu li{
  margin: 0 !important;
  padding: 0 !important;
}

/* Subitens MAIS JUNTOS */
nav.main-nav .has-submenu .submenu a{
  display:block;
  padding: 1px 8px !important;     /* menos espaçamento vertical */
  line-height: 1.0 !important;
  margin: 0 !important;

  font-size: 0.95rem !important;
  color: #fff !important;
  text-decoration: none !important;
  border-radius: 8px;
  white-space: nowrap;

  border: 1px solid transparent !important;
  background: transparent !important;
  transform: none !important;
  box-shadow: none !important;
  outline: none;
}

nav.main-nav .has-submenu .submenu a:hover,
nav.main-nav .has-submenu .submenu a:focus-visible{
  color: #FFB21D !important;
  background: rgba(255,178,29,0.12) !important;
  border-color: transparent !important;
}
/* PLANETAS não sobe (anula hover global do menu) */
nav.main-nav .has-submenu > a,
nav.main-nav .has-submenu > a:hover,
nav.main-nav .has-submenu > a:focus-visible{
  transform: none !important;
  box-shadow: none !important;
}

/* Menu dropdown */
nav.main-nav .has-submenu .submenu{
  display:none;
  position:absolute;
  top: 100%;
  left: 0;
  margin: 0 !important;
  padding: 4px 4px !important;
  list-style: none;
  background: rgba(0,0,0,0.88);
  border: 1px solid rgba(255,178,29,0.75);
  border-radius: 12px;
  min-width: 170px;
  z-index: 9999;
}
nav.main-nav .has-submenu:hover .submenu,
nav.main-nav .has-submenu:focus-within .submenu,
nav.main-nav .has-submenu.is-open .submenu{ display:block; }

nav.main-nav .has-submenu .submenu li{
  margin: 0 !important;
  padding: 0 !important;
}

/* Subitens MUITO mais juntos (anula estilos globais de nav a) */
nav.main-nav .has-submenu .submenu a{
  display:block;
  padding: 2px 8px !important;
  line-height: 1.0 !important;
  margin: 0 !important;

  font-size: 0.95rem !important;
  color: #fff !important;
  text-decoration: none !important;
  border-radius: 10px;
  white-space: nowrap;

  border: 1px solid transparent !important;
  background: transparent !important;
  transform: none !important;
  box-shadow: none !important;
  outline: none;
}

nav.main-nav .has-submenu .submenu a:hover,
nav.main-nav .has-submenu .submenu a:focus-visible{
  color: #FFB21D !important;
  background: rgba(255,178,29,0.12) !important;
  border-color: transparent !important;
}
/* NÃO elevar/mexer o item PLANETAS (há hover global no menu) */
.has-submenu > a:hover,
.has-submenu > a:focus-visible{
  transform: none !important;
  box-shadow: none !important;
}

/* remove margens/padding do UL para ficar mais compacto */
.has-submenu .submenu{
  display:none;
  position:absolute;
  top: 100%;
  left: 0;
  margin: 0;
  padding: 4px 4px;
  list-style: none;
  background: rgba(0,0,0,0.88);
  border: 1px solid rgba(255,178,29,0.75);
  border-radius: 12px;
  min-width: 170px;
  z-index: 9999;
}
.has-submenu:hover .submenu,
.has-submenu:focus-within .submenu,
.has-submenu.is-open .submenu{ display:block; }

.has-submenu .submenu li{
  margin: 0;
  padding: 0;
}

.has-submenu .submenu a{
  display:block;
  padding: 2px 8px;     /* subitens MUITO mais juntos */
  line-height: 1.0;
  color: #fff;
  text-decoration: none;
  font-size: 0.95rem;
  border-radius: 10px;
  white-space: nowrap;

  /* neutraliza estilos globais no hover */
  border: 1px solid transparent !important;
  background: transparent !important;
  transform: none !important;
  box-shadow: none !important;
  outline: none;
}

.has-submenu .submenu a:hover,
.has-submenu .submenu a:focus-visible{
  color: #FFB21D;
  background: rgba(255,178,29,0.12) !important;
  border-color: transparent !important;
}
/* Não mexer o item PLANETAS para não criar “gap” */
.has-submenu > a:hover,
.has-submenu > a:focus-visible{
  transform: none;
}

.has-submenu .submenu{
  display:none;
  position:absolute;
  top: 100%;            /* sem gap entre item e submenu */
  left: 0;
  background: rgba(0,0,0,0.88);
  border: 1px solid rgba(255,178,29,0.75);
  border-radius: 12px;
  padding: 6px 6px;
  min-width: 175px;
  z-index: 9999;
}
.has-submenu:hover .submenu,
.has-submenu:focus-within .submenu,
.has-submenu.is-open .submenu{ display:block; }

.has-submenu .submenu li{ list-style: none; margin: 0; padding: 0; }
.has-submenu .submenu a{
  display:block;
  padding: 4px 8px;     /* itens mais juntos */
  line-height: 1.1;
  color: #fff;
  text-decoration: none;
  font-size: 0.95rem;
  border-radius: 10px;
  white-space: nowrap;
  border: 1px solid transparent; /* neutraliza estilos globais no hover */
  background: transparent;
  transform: none;      /* neutraliza estilos globais no hover */
  box-shadow: none;
}
.has-submenu .submenu a:hover,
.has-submenu .submenu a:focus-visible{
  color: #FFB21D;
  background: rgba(255,178,29,0.12);
  border-color: transparent;
  outline: none;
}
/* Indicador acessível de estado (sem mudar o visual) */
.has-submenu > a[aria-expanded="true"]{
  color: #FFB21D;
}

nav.main-nav .has-submenu .submenu li,
nav.main-nav .has-submenu .submenu li + li{
  margin: 0 !important;
  padding: 0 !important;
}
nav.main-nav .has-submenu .submenu a{
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  line-height: 0.95 !important;
}


/* Submenu Planetas: sem efeito de barra/linha; só cor do texto */
nav.main-nav .has-submenu .submenu a::before,
nav.main-nav .has-submenu .submenu a::after{
  content: none !important;
}

nav.main-nav .has-submenu .submenu li{ margin: 0 !important; padding: 0 !important; }
nav.main-nav .has-submenu .submenu li + li{ margin-top: 0 !important; }
nav.main-nav .has-submenu .submenu a{
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  margin: 0 !important;
  line-height: 1 !important;
  min-height: 0 !important;
}

/* Submenu Planetas: destaque semi-transparente branco (só cores, sem barra) */
nav.main-nav .has-submenu .submenu a:hover,
nav.main-nav .has-submenu .submenu a:focus-visible{
  background: rgba(255,255,255,0.18) !important;
  box-shadow: none !important;
}
nav.main-nav .has-submenu .submenu a:hover,
nav.main-nav .has-submenu .submenu a:focus-visible{
  border-color: transparent !important;
}

nav.main-nav .has-submenu .submenu li + li a{
  margin-top: -2px !important; /* aproxima itens */
}

/* Submenu Planetas: no hover sem retângulo; só muda a cor do texto */
nav.main-nav .has-submenu .submenu a:hover,
nav.main-nav .has-submenu .submenu a:focus-visible{
  background: transparent !important;
}

nav.main-nav .has-submenu .submenu a{
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  line-height: 0.82 !important;
}
nav.main-nav .has-submenu .submenu li + li a{
  margin-top: -3px !important;
}

/* Submenu Planetas: compactação forçada (altura fixa por item) */
nav.main-nav ul.submenu,
nav.main-nav .submenu{
  gap: 0 !important;
}

nav.main-nav ul.submenu li,
nav.main-nav ul.submenu li + li{
  margin: 0 !important;
  padding: 0 !important;
}

nav.main-nav ul.submenu a{
  text-align: left !important;
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  height: 45px !important;          /* controla o espaço vertical */
  line-height: 45px !important;
  padding: 0 8px !important;        /* só horizontal */
  margin: 0 !important;
  border: 0 !important;
  background: transparent !important;
  transform: none !important;
  box-shadow: none !important;
  text-decoration: none !important;
}

/* Submenu Planetas: realce semi-transparente apenas atrás do texto */
nav.main-nav ul.submenu a{
  background: transparent !important;
}
nav.main-nav ul.submenu a .submenu-label{
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
}
nav.main-nav ul.submenu a:hover .submenu-label,
nav.main-nav ul.submenu a:focus-visible .submenu-label{
  background: rgba(255,255,255,0.18);
}

/* Submenu Planetas: realce semi-transparente apenas atrás do texto (forçado) */
nav.main-nav ul.submenu a:hover .submenu-label,
nav.main-nav ul.submenu a:focus-visible .submenu-label{
  background: rgba(255,255,255,0.18) !important;
}
nav.main-nav ul.submenu .submenu-label{
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
}

/* Mapa do Site: avançar 10px para a direita as listas com bullets */
body.page-sitemap .sitemap ul{
  padding-left: calc(1.2em + 10px) !important;
}

/* Mapa do Site: mover apenas o título 300px para a esquerda */
body.page-sitemap .sitemap-title-shift{
  position: relative;
  left: -243px;
}

/* Planetas: mover o título para a esquerda (aplica mesmo sem classe no <body>) */
.planetas-title-shift{
  position: relative;
  left: -20px;
}

/* Mapa do Site: alinhar o parágrafo introdutório com o título */
.sitemap-intro-align-title{
  position: relative;
  left: -243px;
}

/* Mapa do Site: puxar a lista de ligações 200px para a esquerda */
.sitemap-links-shift-left{
  position: relative;
  left: -200px;
}

/* Fallback caso o <body> não tenha page-sitemap */
.sitemap a:hover,
.sitemap a:focus-visible{
  color: #FFB21D !important;
}

.sitemap a:hover,
.sitemap a:focus-visible{
  color: #FFB21D !important;
  background: rgba(255,255,255,0.18);
}

/* Mapa do Site: realce semi-transparente só no hover e com altura do texto */
.sitemap a{
  background: transparent !important;
  padding: 0 !important;
  border-radius: 0 !important;
}
.sitemap a .sitemap-label{
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
}
.sitemap a:hover .sitemap-label,
.sitemap a:focus-visible .sitemap-label{
  background: rgba(255,255,255,0.18);
}

/* Contacto: mover título e frase introdutória 300px para a esquerda */
.contacto-title-shift,
.contacto-intro-shift{
  position: relative;
  left: -325px;
}

/* Contacto: alinhar o formulário com o título */
.contacto-form-align-title{
  position: relative;
  left: -295px;
}


/* Contacto: campos do formulário mais largos */
.contacto-form-align-title{
  max-width: 1100px;
}
.contacto-form-align-title input,
.contacto-form-align-title textarea,
.contacto-form-align-title select{
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}
/* Contacto: aumentar largura do formulário (+200px face aos 720px originais) */
.contact-form.contacto-form-align-title{
  max-width: 920px !important;
}

/* Mobile: evitar cortes (desfazer deslocamentos manuais nas páginas) */
@media (max-width: 768px){
  .contacto-title-shift,
  .contacto-intro-shift,
  .contacto-form-align-title,
  .sitemap-title-shift,
  .sitemap-intro-align-title,
  .sitemap-links-shift-left,
  .planetas-title-shift{
    left: 0 !important;
    transform: none !important;
  }
}

/* Páginas dos planetas: título à esquerda e "Voltar à lista" à direita na mesma linha */
.planet-header{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}
.planet-header .btn-voltar-lista{
  margin-left: auto;
}
@media (max-width: 768px){
  .planet-header{
    align-items: flex-start;
  }
}

/* Planetas: encostar "Voltar à lista" ao lado direito do ecrã */
.planet-header{
  position: relative;
  width: 100%;
}
.planet-header .btn-voltar-lista{
  position: absolute;
  right: 0;
  top: 0;
}
@media (max-width: 768px){
  .planet-header .btn-voltar-lista{
    position: static;
    margin-left: auto;
  }
}

/* Index: reduzir espaço entre o último parágrafo e o rodapé */
.index-last-paragraph-tight{
  margin-bottom: 0px !important;
}

/* Index: reduzir mais 20px do espaço antes do rodapé */
body.page-index main#conteudo{
  padding-bottom: 0px !important;
  margin-bottom: -50px;
}

/* Menu mobile (hambúrguer) */
nav.main-nav .nav-toggle{
  display: none;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.35);
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
}
nav.main-nav .nav-toggle:focus-visible{
  outline: 2px solid #f4b546;
  outline-offset: 2px;
}
nav.main-nav .nav-toggle__bar{
  display: block;
  width: 22px;
  height: 2px;
  margin: 4px 0;
  background: #ffffff;
  opacity: 0.9;
}
nav.main-nav .nav-links{
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

/* Colapsar em mobile */
@media (max-width: 768px){
  nav.main-nav{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
  }
  nav.main-nav .nav-toggle{
    display: inline-flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  nav.main-nav .nav-links{
    display: none;
    width: 100%;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
    padding-top: 8px;
  }
  nav.main-nav.is-open .nav-links{
    display: flex;
  }
  /* Melhor área de toque */
  nav.main-nav .nav-links a{
    display: inline-block;
    padding: 8px 10px;
  }
}

/* Mobile menu: remover separadores | e submenu a abrir à direita sem tapar */
@media (max-width: 768px){
  nav.main-nav .nav-links{
    gap: 4px;
  }
  nav.main-nav .nav-links .nav-sep,
  nav.main-nav .nav-links .sep,
  nav.main-nav .nav-links .separator{
    display: none !important;
  }
  /* esconder qualquer caractere '|' que possa estar a ser gerado por ::before/::after */
  nav.main-nav .nav-links li::before,
  nav.main-nav .nav-links li::after{
    content: none !important;
  }

  /* Submenu Planetas: dropdown inline (não overlay) */
  nav.main-nav .has-submenu{
    position: relative;
  }
  nav.main-nav .has-submenu .submenu,
  nav.main-nav .has-submenu .sub-menu{
    position: static !important;
    width: 100%;
    margin-left: 14px;
    padding: 4px 0 0 0;
    background: transparent !important;
    box-shadow: none !important;
  }
  nav.main-nav .has-submenu .submenu a,
  nav.main-nav .has-submenu .sub-menu a{
    padding: 6px 10px;
  }
}

/* Mobile: submenu não sobrepõe (tapar) - ocupa espaço no fluxo */
@media (max-width: 768px){
  nav.main-nav .has-submenu.is-open > .submenu,
  nav.main-nav .has-submenu.is-open > .sub-menu,
  nav.main-nav .has-submenu.is-open > ul{
    position: relative !important;
    inset: auto !important;
    display: block !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 6px 0 0 14px !important;
    padding: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
    z-index: 0 !important;
  }
  /* garantir que o item Planetas e o submenu ficam em coluna e empurram o resto */
  nav.main-nav .has-submenu{
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }
}

/* Mobile: substituir ícone da casa por texto "Início" */
.home-text-mobile{
  display: none;
  margin-left: 6px;
}
@media (max-width: 768px){
  nav.main-nav a.home-link img,
  nav.main-nav a.home-link svg,
  nav.main-nav a.home-link .home-icon,
  nav.main-nav a.home-link .icon-home{
    display: none !important;
  }
  nav.main-nav a.home-link{
    display: inline-flex;
    align-items: center;
  }
  nav.main-nav a.home-link .home-text-mobile{
    display: inline !important;
    margin-left: 0;
  }
}

/* Mobile: alinhar "Início" à esquerda e reduzir espaçamento entre itens do menu */
@media (max-width: 768px){
  nav.main-nav .nav-links{
    gap: 2px !important;
    padding-top: 6px !important;
  }
  nav.main-nav .nav-links a{
    padding: 6px 8px !important;
    margin: 0 !important;
  }
  nav.main-nav a.home-link{
    justify-content: flex-start !important;
    text-align: left !important;
  }
  nav.main-nav a.home-link .home-text-mobile{
    text-align: left !important;
  }
}

/* Mobile: remover barra laranja (só cor no texto) + alinhar itens (sem indent no activo) + espaçamento mais curto */
@media (max-width: 768px){
  /* remove qualquer barra/linha/underline animado do menu em mobile */
  nav.main-nav .nav-links a::before,
  nav.main-nav .nav-links a::after,
  nav.main-nav .nav-links li::before,
  nav.main-nav .nav-links li::after{
    content: none !important;
    display: none !important;
  }

  /* garantir alinhamento à esquerda igual para todos (inclui activo) */
  nav.main-nav .nav-links{
    padding-left: 0 !important;
    margin-left: 0 !important;
    gap: 0 !important;
  }
  nav.main-nav .nav-links li{
    margin: 0 !important;
    padding: 0 !important;
  }
  nav.main-nav .nav-links a{
    padding: 7px 12px !important;   /* menos espaço horizontal e vertical */
    margin: 0 !important;
    line-height: 1.1 !important;
    text-indent: 0 !important;
  }

  /* realce apenas por cor (hover/activo) */
  nav.main-nav .nav-links a:hover,
  nav.main-nav .nav-links a:focus-visible,
  nav.main-nav .nav-links a.active,
  nav.main-nav .nav-links li.active > a{
    color: #FFB21D !important;
    background: transparent !important;
    outline: none !important;
    box-shadow: none !important;
  }
}

/* Mobile: garantir que "Início" fica exactamente alinhado com os restantes itens */
@media (max-width: 768px){
  nav.main-nav .nav-links a,
  nav.main-nav .nav-links a.active,
  nav.main-nav .nav-links li.active > a{
    padding-left: 12px !important;
    margin-left: 0 !important;
    border-left: 0 !important;
  }
  nav.main-nav .nav-links li:first-child a{
    padding-left: 12px !important;
  }
}

/* Mobile: impedir centragem do item activo (ex.: INÍCIO) */
@media (max-width: 768px){
  nav.main-nav .nav-links a{
    display: block !important;
    width: 100% !important;
    text-align: left !important;
  }
  nav.main-nav .nav-links a.active,
  nav.main-nav .nav-links li.active > a{
    text-align: left !important;
    justify-content: flex-start !important;
    align-items: center !important;
  }
  /* Garantir que o item INÍCIO (nav-home) fica alinhado à esquerda como os restantes */
  nav.main-nav .nav-links a.nav-home{
    justify-content: flex-start !important;
    min-width: 0 !important;
  }
  nav.main-nav .nav-links a.nav-home .home-text-mobile{
    margin-left: 0 !important;
  }

}


/* FIX_139: Mobile - alinhar 'Início' como os restantes itens (sem centrar) */
@media (max-width: 768px){
  nav.main-nav.is-open .nav-links a.nav-home,
  nav.main-nav.is-open .nav-links a.home-link{
    display: block !important;
    width: 100% !important;
    text-align: left !important;
    justify-content: flex-start !important;
    align-items: center !important;
    padding-left: 10px !important;
    padding-right: 10px !important;
    margin-left: 0 !important;
  }
  nav.main-nav.is-open .nav-links a.nav-home .home-text-mobile,
  nav.main-nav.is-open .nav-links a.home-link .home-text-mobile{
    margin-left: 0 !important;
    width: auto !important;
  }
}

}

/* Mobile: remover item "Início" do menu (apenas mobile) */
}

/* também remover separador imediatamente a seguir, se existir como texto/elemento */
  nav a[href$="index.html"] + .nav-sep,
  nav a[href$="index.html"] + span,
  nav a[href$="index.html"] + strong{
    display: none !important;
  }
}

}

/* Mobile: item "Início" novo como os restantes (sem centragem) */
@media (max-width: 768px){
  nav .nav-links li{ width: 100%; }
  nav .nav-links li a{ width: 100%; text-align: left; }
}

/* Mobile: remover bolinhas (marcadores) da lista do menu */
@media (max-width: 768px){
  nav .nav-links{
    list-style: none !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
  }
  nav .nav-links li{
    list-style: none !important;
  }
}

/* Desktop: inverter cores do ícone Home (normal: círculo branco + casa laranja; hover/activo: círculo laranja + casa branca) */
@media (min-width: 769px){
  /* estado normal */
  .nav-home-svg .home-bg{ fill: #FFFFFF !important; }
  .nav-home-svg .home-house{ fill: #FFB21D !important; }
  .nav-home-svg .home-roof{ stroke: #FFB21D !important; }
  .nav-home-svg .home-door{ fill: #FFFFFF !important; }

  /* hover/focus/activo */
  a.nav-home:hover .home-bg,
  a.nav-home:focus-visible .home-bg,
  a.nav-home[aria-current="page"] .home-bg,
  a.nav-home.active .home-bg{ fill: #FFB21D !important; }

  a.nav-home:hover .home-house,
  a.nav-home:focus-visible .home-house,
  a.nav-home[aria-current="page"] .home-house,
  a.nav-home.active .home-house{ fill: #FFFFFF !important; }

  a.nav-home:hover .home-roof,
  a.nav-home:focus-visible .home-roof,
  a.nav-home[aria-current="page"] .home-roof,
  a.nav-home.active .home-roof{ stroke: #FFFFFF !important; }

  a.nav-home:hover .home-door,
  a.nav-home:focus-visible .home-door,
  a.nav-home[aria-current="page"] .home-door,
  a.nav-home.active .home-door{ fill: #FFB21D !important; }
}


/* Planetas: garantir texto introdutório por baixo do título */
#conteudo h1{ display:block; }
.intro-planetas{ display:block; width:100%; }

.intro-planetas{ margin-top: 8px; }

/* Planetas: texto introdutório por baixo do título (sem mexer no título) */
.planetas-intro-wrap{
  display:block;
  width:100%;
  clear: both;
  margin-top: 8px;
  margin-bottom: 18px;
}
.planetas-intro-wrap .intro-planetas{
  margin: 0;
}

/* Planetas: mover título 20px para a direita (apenas planetas.html) */
body.page-planetas h1{
  transform: translateX(20px);
}
